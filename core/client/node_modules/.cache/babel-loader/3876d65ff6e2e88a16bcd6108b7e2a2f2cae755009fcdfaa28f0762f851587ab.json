{"ast":null,"code":"var _jsxFileName = \"D:\\\\XM\\\\AI-Sphere-Butler\\\\core\\\\client\\\\src\\\\components\\\\Settings.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// components/Settings.jsx\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst menuItems = [{\n  key: 'home',\n  label: '主页'\n}, {\n  key: 'butler',\n  label: '管家'\n}, {\n  key: 'car',\n  label: '车'\n}, {\n  key: 'homeassistant',\n  label: 'HA'\n}, {\n  key: 'ops',\n  label: '运维'\n}, {\n  key: 'settings',\n  label: '设置'\n}];\n\n// 壁纸类型选项\nconst wallpaperTypes = [{\n  value: 'image',\n  label: '静态图片'\n}, {\n  value: 'video',\n  label: '视频背景'\n}, {\n  value: 'camera',\n  label: '摄像头实时画面'\n}];\n\n// 工具函数，安全检查URL（简单版）\nfunction isValidUrl(string) {\n  try {\n    new URL(string);\n    return true;\n  } catch {\n    return false;\n  }\n}\nexport default function Settings({\n  wallpaperSettings,\n  setWallpaperSettings\n}) {\n  _s();\n  const [selectedMenu, setSelectedMenu] = useState('home');\n  const [selectedType, setSelectedType] = useState('image');\n  const [mediaSrc, setMediaSrc] = useState('');\n  const [availableCameras, setAvailableCameras] = useState([]);\n  const [selectedCameraId, setSelectedCameraId] = useState(null);\n  const [cameraError, setCameraError] = useState(null);\n\n  // 加载当前菜单的壁纸配置到本地状态\n  useEffect(() => {\n    const cfg = wallpaperSettings[selectedMenu] || {\n      type: 'image',\n      value: ''\n    };\n    setSelectedType(cfg.type);\n    if (cfg.type === 'camera') {\n      setSelectedCameraId(cfg.value || null);\n      setMediaSrc('');\n    } else {\n      setMediaSrc(cfg.value || '');\n      setSelectedCameraId(null);\n    }\n  }, [selectedMenu, wallpaperSettings]);\n\n  // 获取摄像头设备列表\n  useEffect(() => {\n    async function fetchCameras() {\n      try {\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const videoDevices = devices.filter(d => d.kind === 'videoinput');\n        setAvailableCameras(videoDevices);\n        // 如果之前选择的摄像头不在设备列表，清除选择\n        if (selectedCameraId && !videoDevices.some(d => d.deviceId === selectedCameraId)) {\n          setSelectedCameraId(null);\n        }\n      } catch (e) {\n        setAvailableCameras([]);\n        setCameraError('无法获取摄像头设备列表，可能未授予权限或浏览器不支持。');\n      }\n    }\n    fetchCameras();\n  }, [selectedCameraId]);\n\n  // 选择菜单项\n  const handleMenuChange = e => {\n    setSelectedMenu(e.target.value);\n    setCameraError(null);\n  };\n\n  // 选择壁纸类型\n  const handleTypeChange = e => {\n    const newType = e.target.value;\n    setSelectedType(newType);\n    setCameraError(null);\n\n    // 重置输入值和摄像头选择\n    if (newType === 'camera') {\n      setMediaSrc('');\n      // 如果有摄像头设备，默认选第一个\n      if (availableCameras.length > 0) {\n        setSelectedCameraId(availableCameras[0].deviceId);\n      } else {\n        setSelectedCameraId(null);\n      }\n    } else {\n      setMediaSrc('');\n      setSelectedCameraId(null);\n    }\n  };\n\n  // 媒体资源地址输入\n  const handleMediaSrcChange = e => {\n    setMediaSrc(e.target.value);\n  };\n\n  // 选择摄像头设备\n  const handleCameraSelect = e => {\n    setSelectedCameraId(e.target.value);\n    setCameraError(null);\n  };\n\n  // 保存当前配置到父组件状态（并写入本地存储由父组件处理）\n  const handleSave = () => {\n    let valueToSave = null;\n    if (selectedType === 'camera') {\n      valueToSave = selectedCameraId || null;\n    } else if (selectedType === 'image' || selectedType === 'video') {\n      valueToSave = mediaSrc.trim() || null;\n    }\n\n    // 简单验证\n    if ((selectedType === 'image' || selectedType === 'video') && valueToSave) {\n      if (!isValidUrl(valueToSave) && !valueToSave.startsWith('/')) {\n        alert('请输入有效的 URL 地址或以 / 开头的本地路径');\n        return;\n      }\n    }\n    setWallpaperSettings(prev => ({\n      ...prev,\n      [selectedMenu]: {\n        type: selectedType,\n        value: valueToSave\n      }\n    }));\n    alert('保存成功');\n  };\n\n  // 预览当前配置\n  const renderPreview = () => {\n    if (selectedType === 'image' && mediaSrc) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: mediaSrc,\n        alt: \"\\u80CC\\u666F\\u56FE\\u7247\\u9884\\u89C8\",\n        style: {\n          maxWidth: '100%',\n          maxHeight: 300,\n          borderRadius: 8,\n          objectFit: 'contain',\n          backgroundColor: '#111'\n        },\n        onError: e => {\n          e.currentTarget.src = '';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this);\n    }\n    if (selectedType === 'video' && mediaSrc) {\n      return /*#__PURE__*/_jsxDEV(\"video\", {\n        src: mediaSrc,\n        style: {\n          maxWidth: '100%',\n          maxHeight: 300,\n          borderRadius: 8,\n          backgroundColor: '#111'\n        },\n        controls: true,\n        muted: true,\n        loop: true,\n        autoPlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this);\n    }\n    if (selectedType === 'camera') {\n      if (availableCameras.length === 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'orange'\n          },\n          children: \"\\u65E0\\u53EF\\u7528\\u6444\\u50CF\\u5934\\u8BBE\\u5907\\u6216\\u672A\\u6388\\u6743\\u8BBF\\u95EE\\u6444\\u50CF\\u5934\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(CameraPreview, {\n        cameraId: selectedCameraId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#666'\n      },\n      children: \"\\u8BF7\\u9009\\u62E9\\u58C1\\u7EB8\\u7C7B\\u578B\\u5E76\\u8F93\\u5165\\u6216\\u9009\\u62E9\\u8D44\\u6E90\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 12\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'white',\n      maxWidth: 600,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"\\u8BBE\\u7F6E\\u58C1\\u7EB8\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"menuSelect\",\n        style: {\n          display: 'block',\n          marginBottom: 4\n        },\n        children: \"\\u9009\\u62E9\\u83DC\\u5355\\u9879\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"menuSelect\",\n        value: selectedMenu,\n        onChange: handleMenuChange,\n        style: {\n          width: '100%',\n          padding: 8,\n          borderRadius: 4,\n          border: 'none',\n          fontSize: 16\n        },\n        children: menuItems.map(({\n          key,\n          label\n        }) => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: key,\n          children: label\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          display: 'block',\n          marginBottom: 4\n        },\n        children: \"\\u58C1\\u7EB8\\u7C7B\\u578B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), wallpaperTypes.map(({\n        value,\n        label\n      }) => /*#__PURE__*/_jsxDEV(\"label\", {\n        style: {\n          marginRight: 20,\n          cursor: 'pointer'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          name: \"wallpaperType\",\n          value: value,\n          checked: selectedType === value,\n          onChange: handleTypeChange,\n          style: {\n            marginRight: 6\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), label]\n      }, value, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 7\n    }, this), (selectedType === 'image' || selectedType === 'video') && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"mediaSrc\",\n        style: {\n          display: 'block',\n          marginBottom: 4\n        },\n        children: selectedType === 'image' ? '图片地址(URL 或本地路径)' : '视频地址(URL 或本地路径)'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"mediaSrc\",\n        type: \"text\",\n        value: mediaSrc,\n        onChange: handleMediaSrcChange,\n        placeholder: selectedType === 'image' ? '例如 https://example.com/bg.jpg 或 /local/path/bg.jpg' : '例如 https://example.com/bg.mp4 或 /local/path/bg.mp4',\n        style: {\n          width: '100%',\n          padding: 8,\n          borderRadius: 4,\n          border: 'none',\n          fontSize: 16\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 9\n    }, this), selectedType === 'camera' && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"cameraSelect\",\n        style: {\n          display: 'block',\n          marginBottom: 4\n        },\n        children: \"\\u9009\\u62E9\\u6444\\u50CF\\u5934\\u8BBE\\u5907\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        id: \"cameraSelect\",\n        value: selectedCameraId || '',\n        onChange: handleCameraSelect,\n        style: {\n          width: '100%',\n          padding: 8,\n          borderRadius: 4,\n          border: 'none',\n          fontSize: 16\n        },\n        disabled: availableCameras.length === 0,\n        children: [availableCameras.length === 0 && /*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"\\u65E0\\u53EF\\u7528\\u6444\\u50CF\\u5934\\u8BBE\\u5907\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 47\n        }, this), availableCameras.map(device => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: device.deviceId,\n          children: device.label || `摄像头 ${device.deviceId}`\n        }, device.deviceId, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this), cameraError && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: 'orange',\n          marginTop: 6\n        },\n        children: cameraError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleSave,\n      style: {\n        padding: '10px 20px',\n        backgroundColor: '#00e5ff',\n        color: 'black',\n        fontWeight: 'bold',\n        border: 'none',\n        borderRadius: 6,\n        cursor: 'pointer',\n        marginBottom: 20,\n        userSelect: 'none'\n      },\n      children: \"\\u4FDD\\u5B58\\u8BBE\\u7F6E\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 243,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        children: \"\\u9884\\u89C8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          border: '1px solid #444',\n          borderRadius: 8,\n          padding: 10,\n          backgroundColor: '#111'\n        },\n        children: renderPreview()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 172,\n    columnNumber: 5\n  }, this);\n}\n\n// CameraPreview 组件用于预览摄像头视频\n_s(Settings, \"q6h6o+Lbtti1/ZCzUXWw754wW2I=\");\n_c = Settings;\nfunction CameraPreview({\n  cameraId\n}) {\n  _s2();\n  const videoRef = React.useRef(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!cameraId) {\n      setError('未选择摄像头');\n      return;\n    }\n    setError(null);\n    let stream;\n    const constraints = {\n      video: {\n        deviceId: {\n          exact: cameraId\n        }\n      },\n      audio: false\n    };\n    async function startStream() {\n      try {\n        stream = await navigator.mediaDevices.getUserMedia(constraints);\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          await videoRef.current.play();\n        }\n      } catch (e) {\n        setError('无法访问摄像头，可能未授权或设备异常');\n      }\n    }\n    startStream();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      if (videoRef.current) {\n        videoRef.current.srcObject = null;\n      }\n    };\n  }, [cameraId]);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"video\", {\n    ref: videoRef,\n    style: {\n      width: '100%',\n      maxHeight: 300,\n      borderRadius: 8,\n      backgroundColor: '#000'\n    },\n    muted: true,\n    playsInline: true,\n    autoPlay: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 317,\n    columnNumber: 5\n  }, this);\n}\n_s2(CameraPreview, \"Z4/Bk+yDXdHnVi24D9ydZvaMMK0=\");\n_c2 = CameraPreview;\nvar _c, _c2;\n$RefreshReg$(_c, \"Settings\");\n$RefreshReg$(_c2, \"CameraPreview\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","menuItems","key","label","wallpaperTypes","value","isValidUrl","string","URL","Settings","wallpaperSettings","setWallpaperSettings","_s","selectedMenu","setSelectedMenu","selectedType","setSelectedType","mediaSrc","setMediaSrc","availableCameras","setAvailableCameras","selectedCameraId","setSelectedCameraId","cameraError","setCameraError","cfg","type","fetchCameras","devices","navigator","mediaDevices","enumerateDevices","videoDevices","filter","d","kind","some","deviceId","e","handleMenuChange","target","handleTypeChange","newType","length","handleMediaSrcChange","handleCameraSelect","handleSave","valueToSave","trim","startsWith","alert","prev","renderPreview","src","alt","style","maxWidth","maxHeight","borderRadius","objectFit","backgroundColor","onError","currentTarget","fileName","_jsxFileName","lineNumber","columnNumber","controls","muted","loop","autoPlay","color","children","CameraPreview","cameraId","margin","marginBottom","htmlFor","display","id","onChange","width","padding","border","fontSize","map","marginRight","cursor","name","checked","placeholder","disabled","device","marginTop","onClick","fontWeight","userSelect","_c","_s2","videoRef","useRef","error","setError","stream","constraints","video","exact","audio","startStream","getUserMedia","current","srcObject","play","getTracks","forEach","track","stop","ref","playsInline","_c2","$RefreshReg$"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/Settings.jsx"],"sourcesContent":["// components/Settings.jsx\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst menuItems = [\r\n  { key: 'home', label: '主页' },\r\n  { key: 'butler', label: '管家' },\r\n  { key: 'car', label: '车' },\r\n  { key: 'homeassistant', label: 'HA' },\r\n  { key: 'ops', label: '运维' },\r\n  { key: 'settings', label: '设置' },\r\n];\r\n\r\n// 壁纸类型选项\r\nconst wallpaperTypes = [\r\n  { value: 'image', label: '静态图片' },\r\n  { value: 'video', label: '视频背景' },\r\n  { value: 'camera', label: '摄像头实时画面' },\r\n];\r\n\r\n// 工具函数，安全检查URL（简单版）\r\nfunction isValidUrl(string) {\r\n  try {\r\n    new URL(string);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default function Settings({ wallpaperSettings, setWallpaperSettings }) {\r\n  const [selectedMenu, setSelectedMenu] = useState('home');\r\n  const [selectedType, setSelectedType] = useState('image');\r\n  const [mediaSrc, setMediaSrc] = useState('');\r\n  const [availableCameras, setAvailableCameras] = useState([]);\r\n  const [selectedCameraId, setSelectedCameraId] = useState(null);\r\n  const [cameraError, setCameraError] = useState(null);\r\n\r\n  // 加载当前菜单的壁纸配置到本地状态\r\n  useEffect(() => {\r\n    const cfg = wallpaperSettings[selectedMenu] || { type: 'image', value: '' };\r\n    setSelectedType(cfg.type);\r\n    if (cfg.type === 'camera') {\r\n      setSelectedCameraId(cfg.value || null);\r\n      setMediaSrc('');\r\n    } else {\r\n      setMediaSrc(cfg.value || '');\r\n      setSelectedCameraId(null);\r\n    }\r\n  }, [selectedMenu, wallpaperSettings]);\r\n\r\n  // 获取摄像头设备列表\r\n  useEffect(() => {\r\n    async function fetchCameras() {\r\n      try {\r\n        const devices = await navigator.mediaDevices.enumerateDevices();\r\n        const videoDevices = devices.filter(d => d.kind === 'videoinput');\r\n        setAvailableCameras(videoDevices);\r\n        // 如果之前选择的摄像头不在设备列表，清除选择\r\n        if (selectedCameraId && !videoDevices.some(d => d.deviceId === selectedCameraId)) {\r\n          setSelectedCameraId(null);\r\n        }\r\n      } catch (e) {\r\n        setAvailableCameras([]);\r\n        setCameraError('无法获取摄像头设备列表，可能未授予权限或浏览器不支持。');\r\n      }\r\n    }\r\n    fetchCameras();\r\n  }, [selectedCameraId]);\r\n\r\n  // 选择菜单项\r\n  const handleMenuChange = (e) => {\r\n    setSelectedMenu(e.target.value);\r\n    setCameraError(null);\r\n  };\r\n\r\n  // 选择壁纸类型\r\n  const handleTypeChange = (e) => {\r\n    const newType = e.target.value;\r\n    setSelectedType(newType);\r\n    setCameraError(null);\r\n\r\n    // 重置输入值和摄像头选择\r\n    if (newType === 'camera') {\r\n      setMediaSrc('');\r\n      // 如果有摄像头设备，默认选第一个\r\n      if (availableCameras.length > 0) {\r\n        setSelectedCameraId(availableCameras[0].deviceId);\r\n      } else {\r\n        setSelectedCameraId(null);\r\n      }\r\n    } else {\r\n      setMediaSrc('');\r\n      setSelectedCameraId(null);\r\n    }\r\n  };\r\n\r\n  // 媒体资源地址输入\r\n  const handleMediaSrcChange = (e) => {\r\n    setMediaSrc(e.target.value);\r\n  };\r\n\r\n  // 选择摄像头设备\r\n  const handleCameraSelect = (e) => {\r\n    setSelectedCameraId(e.target.value);\r\n    setCameraError(null);\r\n  };\r\n\r\n  // 保存当前配置到父组件状态（并写入本地存储由父组件处理）\r\n  const handleSave = () => {\r\n    let valueToSave = null;\r\n    if (selectedType === 'camera') {\r\n      valueToSave = selectedCameraId || null;\r\n    } else if (selectedType === 'image' || selectedType === 'video') {\r\n      valueToSave = mediaSrc.trim() || null;\r\n    }\r\n\r\n    // 简单验证\r\n    if ((selectedType === 'image' || selectedType === 'video') && valueToSave) {\r\n      if (!isValidUrl(valueToSave) && !valueToSave.startsWith('/')) {\r\n        alert('请输入有效的 URL 地址或以 / 开头的本地路径');\r\n        return;\r\n      }\r\n    }\r\n\r\n    setWallpaperSettings(prev => ({\r\n      ...prev,\r\n      [selectedMenu]: {\r\n        type: selectedType,\r\n        value: valueToSave,\r\n      },\r\n    }));\r\n\r\n    alert('保存成功');\r\n  };\r\n\r\n  // 预览当前配置\r\n  const renderPreview = () => {\r\n    if (selectedType === 'image' && mediaSrc) {\r\n      return (\r\n        <img\r\n          src={mediaSrc}\r\n          alt=\"背景图片预览\"\r\n          style={{ maxWidth: '100%', maxHeight: 300, borderRadius: 8, objectFit: 'contain', backgroundColor: '#111' }}\r\n          onError={(e) => { e.currentTarget.src = ''; }}\r\n        />\r\n      );\r\n    }\r\n    if (selectedType === 'video' && mediaSrc) {\r\n      return (\r\n        <video\r\n          src={mediaSrc}\r\n          style={{ maxWidth: '100%', maxHeight: 300, borderRadius: 8, backgroundColor: '#111' }}\r\n          controls\r\n          muted\r\n          loop\r\n          autoPlay\r\n        />\r\n      );\r\n    }\r\n    if (selectedType === 'camera') {\r\n      if (availableCameras.length === 0) {\r\n        return <div style={{ color: 'orange' }}>无可用摄像头设备或未授权访问摄像头。</div>;\r\n      }\r\n      return (\r\n        <CameraPreview cameraId={selectedCameraId} />\r\n      );\r\n    }\r\n    return <div style={{ color: '#666' }}>请选择壁纸类型并输入或选择资源。</div>;\r\n  };\r\n\r\n  return (\r\n    <div style={{ color: 'white', maxWidth: 600, margin: 'auto' }}>\r\n      <h3>设置壁纸</h3>\r\n\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label htmlFor=\"menuSelect\" style={{ display: 'block', marginBottom: 4 }}>选择菜单项</label>\r\n        <select\r\n          id=\"menuSelect\"\r\n          value={selectedMenu}\r\n          onChange={handleMenuChange}\r\n          style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16 }}\r\n        >\r\n          {menuItems.map(({ key, label }) => (\r\n            <option key={key} value={key}>{label}</option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n\r\n      <div style={{ marginBottom: 12 }}>\r\n        <label style={{ display: 'block', marginBottom: 4 }}>壁纸类型</label>\r\n        {wallpaperTypes.map(({ value, label }) => (\r\n          <label key={value} style={{ marginRight: 20, cursor: 'pointer' }}>\r\n            <input\r\n              type=\"radio\"\r\n              name=\"wallpaperType\"\r\n              value={value}\r\n              checked={selectedType === value}\r\n              onChange={handleTypeChange}\r\n              style={{ marginRight: 6 }}\r\n            />\r\n            {label}\r\n          </label>\r\n        ))}\r\n      </div>\r\n\r\n      {(selectedType === 'image' || selectedType === 'video') && (\r\n        <div style={{ marginBottom: 12 }}>\r\n          <label htmlFor=\"mediaSrc\" style={{ display: 'block', marginBottom: 4 }}>\r\n            {selectedType === 'image' ? '图片地址(URL 或本地路径)' : '视频地址(URL 或本地路径)'}\r\n          </label>\r\n          <input\r\n            id=\"mediaSrc\"\r\n            type=\"text\"\r\n            value={mediaSrc}\r\n            onChange={handleMediaSrcChange}\r\n            placeholder={selectedType === 'image' ? '例如 https://example.com/bg.jpg 或 /local/path/bg.jpg' : '例如 https://example.com/bg.mp4 或 /local/path/bg.mp4'}\r\n            style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16 }}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {selectedType === 'camera' && (\r\n        <div style={{ marginBottom: 12 }}>\r\n          <label htmlFor=\"cameraSelect\" style={{ display: 'block', marginBottom: 4 }}>选择摄像头设备</label>\r\n          <select\r\n            id=\"cameraSelect\"\r\n            value={selectedCameraId || ''}\r\n            onChange={handleCameraSelect}\r\n            style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16 }}\r\n            disabled={availableCameras.length === 0}\r\n          >\r\n            {availableCameras.length === 0 && <option value=\"\">无可用摄像头设备</option>}\r\n            {availableCameras.map((device) => (\r\n              <option key={device.deviceId} value={device.deviceId}>\r\n                {device.label || `摄像头 ${device.deviceId}`}\r\n              </option>\r\n            ))}\r\n          </select>\r\n          {cameraError && <p style={{ color: 'orange', marginTop: 6 }}>{cameraError}</p>}\r\n        </div>\r\n      )}\r\n\r\n      <button\r\n        onClick={handleSave}\r\n        style={{\r\n          padding: '10px 20px',\r\n          backgroundColor: '#00e5ff',\r\n          color: 'black',\r\n          fontWeight: 'bold',\r\n          border: 'none',\r\n          borderRadius: 6,\r\n          cursor: 'pointer',\r\n          marginBottom: 20,\r\n          userSelect: 'none',\r\n        }}\r\n      >\r\n        保存设置\r\n      </button>\r\n\r\n      <div>\r\n        <h4>预览</h4>\r\n        <div style={{ border: '1px solid #444', borderRadius: 8, padding: 10, backgroundColor: '#111' }}>\r\n          {renderPreview()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// CameraPreview 组件用于预览摄像头视频\r\nfunction CameraPreview({ cameraId }) {\r\n  const videoRef = React.useRef(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!cameraId) {\r\n      setError('未选择摄像头');\r\n      return;\r\n    }\r\n    setError(null);\r\n\r\n    let stream;\r\n\r\n    const constraints = {\r\n      video: { deviceId: { exact: cameraId } },\r\n      audio: false,\r\n    };\r\n\r\n    async function startStream() {\r\n      try {\r\n        stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n          await videoRef.current.play();\r\n        }\r\n      } catch (e) {\r\n        setError('无法访问摄像头，可能未授权或设备异常');\r\n      }\r\n    }\r\n    startStream();\r\n\r\n    return () => {\r\n      if (stream) {\r\n        stream.getTracks().forEach(track => track.stop());\r\n      }\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = null;\r\n      }\r\n    };\r\n  }, [cameraId]);\r\n\r\n  if (error) {\r\n    return <div style={{ color: 'red' }}>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <video\r\n      ref={videoRef}\r\n      style={{ width: '100%', maxHeight: 300, borderRadius: 8, backgroundColor: '#000' }}\r\n      muted\r\n      playsInline\r\n      autoPlay\r\n    />\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}