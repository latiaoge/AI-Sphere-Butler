{"ast":null,"code":"var _jsxFileName = \"D:\\\\XM\\\\AI-Sphere-Butler\\\\core\\\\client\\\\src\\\\components\\\\Settings.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// components/Settings.jsx\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst menuItems = [{\n  key: 'home',\n  label: '主页'\n}, {\n  key: 'butler',\n  label: '管家'\n}, {\n  key: 'car',\n  label: '车'\n}, {\n  key: 'homeassistant',\n  label: 'HA'\n}, {\n  key: 'ops',\n  label: '运维'\n}, {\n  key: 'settings',\n  label: '设置'\n}];\nconst wallpaperTypes = [{\n  value: 'image',\n  label: '静态图片'\n}, {\n  value: 'video',\n  label: '视频背景'\n}, {\n  value: 'camera',\n  label: '摄像头实时画面'\n}];\n\n// ... isValidUrl 和 CameraPreview 保持不变 ...\n\nexport default function Settings({\n  wallpaperSettings,\n  setWallpaperSettings,\n  panels = [],\n  resetAllPanels,\n  resetSinglePanel\n}) {\n  _s();\n  const [selectedMenu, setSelectedMenu] = useState('home');\n  const [selectedType, setSelectedType] = useState('image');\n  const [mediaSrc, setMediaSrc] = useState('');\n  const [availableCameras, setAvailableCameras] = useState([]);\n  const [selectedCameraId, setSelectedCameraId] = useState(null);\n  const [cameraError, setCameraError] = useState(null);\n  const [wallpaperFolded, setWallpaperFolded] = useState(false);\n  const [panelResetFolded, setPanelResetFolded] = useState(true);\n  useEffect(() => {\n    const cfg = wallpaperSettings[selectedMenu] || {\n      type: 'image',\n      value: ''\n    };\n    setSelectedType(cfg.type);\n    if (cfg.type === 'camera') {\n      setSelectedCameraId(cfg.value || null);\n      setMediaSrc('');\n    } else {\n      setMediaSrc(cfg.value || '');\n      setSelectedCameraId(null);\n    }\n    setCameraError(null);\n  }, [selectedMenu, wallpaperSettings]);\n  useEffect(() => {\n    async function fetchCameras() {\n      try {\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const videoDevices = devices.filter(d => d.kind === 'videoinput');\n        setAvailableCameras(videoDevices);\n        if (selectedCameraId && !videoDevices.some(d => d.deviceId === selectedCameraId)) {\n          setSelectedCameraId(null);\n        }\n      } catch {\n        setAvailableCameras([]);\n        setCameraError('无法获取摄像头设备列表，可能未授予权限或浏览器不支持。');\n      }\n    }\n    fetchCameras();\n  }, [selectedCameraId]);\n  const handleMenuChange = e => {\n    setSelectedMenu(e.target.value);\n    setCameraError(null);\n  };\n  const handleTypeChange = e => {\n    const newType = e.target.value;\n    setSelectedType(newType);\n    setCameraError(null);\n    if (newType === 'camera') {\n      setMediaSrc('');\n      if (availableCameras.length > 0) {\n        setSelectedCameraId(availableCameras[0].deviceId);\n      } else {\n        setSelectedCameraId(null);\n      }\n    } else {\n      setMediaSrc('');\n      setSelectedCameraId(null);\n    }\n  };\n  const handleMediaSrcChange = e => setMediaSrc(e.target.value);\n  const handleCameraSelect = e => {\n    setSelectedCameraId(e.target.value);\n    setCameraError(null);\n  };\n  const handleSave = () => {\n    let valueToSave = null;\n    if (selectedType === 'camera') {\n      valueToSave = selectedCameraId || null;\n    } else if (selectedType === 'image' || selectedType === 'video') {\n      valueToSave = mediaSrc.trim() || null;\n    }\n    if ((selectedType === 'image' || selectedType === 'video') && valueToSave) {\n      if (!isValidUrl(valueToSave) && !valueToSave.startsWith('/')) {\n        alert('请输入有效的 URL 地址或以 / 开头的本地路径');\n        return;\n      }\n    }\n    setWallpaperSettings(prev => ({\n      ...prev,\n      [selectedMenu]: {\n        type: selectedType,\n        value: valueToSave\n      }\n    }));\n    alert('保存成功');\n  };\n  const renderPreview = () => {\n    if (selectedType === 'image' && mediaSrc) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: mediaSrc,\n        alt: \"\\u80CC\\u666F\\u56FE\\u7247\\u9884\\u89C8\",\n        style: {\n          maxWidth: '100%',\n          maxHeight: 300,\n          borderRadius: 8,\n          objectFit: 'contain',\n          backgroundColor: '#111'\n        },\n        onError: e => {\n          e.currentTarget.src = '';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this);\n    }\n    if (selectedType === 'video' && mediaSrc) {\n      return /*#__PURE__*/_jsxDEV(\"video\", {\n        src: mediaSrc,\n        style: {\n          maxWidth: '100%',\n          maxHeight: 300,\n          borderRadius: 8,\n          backgroundColor: '#111'\n        },\n        controls: true,\n        muted: true,\n        loop: true,\n        autoPlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this);\n    }\n    if (selectedType === 'camera') {\n      if (availableCameras.length === 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'orange'\n          },\n          children: \"\\u65E0\\u53EF\\u7528\\u6444\\u50CF\\u5934\\u8BBE\\u5907\\u6216\\u672A\\u6388\\u6743\\u8BBF\\u95EE\\u6444\\u50CF\\u5934\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(CameraPreview, {\n        cameraId: selectedCameraId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#666'\n      },\n      children: \"\\u8BF7\\u9009\\u62E9\\u58C1\\u7EB8\\u7C7B\\u578B\\u5E76\\u8F93\\u5165\\u6216\\u9009\\u62E9\\u8D44\\u6E90\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 12\n    }, this);\n  };\n\n  // 新增样式定义\n  const foldHeaderStyle = {\n    cursor: 'pointer',\n    userSelect: 'none',\n    display: 'flex',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: '10px 15px',\n    borderRadius: '6px',\n    backgroundColor: 'rgba(0, 229, 255, 0.1)',\n    // 磨砂浅蓝半透明\n    backdropFilter: 'blur(12px)',\n    WebkitBackdropFilter: 'blur(12px)',\n    color: 'white',\n    border: 'none' // 无边框\n  };\n  const panelContainerStyle = {\n    padding: 12,\n    borderRadius: 6,\n    backgroundColor: 'rgba(0,0,0,0.3)',\n    // 深色半透明磨砂背景\n    backdropFilter: 'blur(12px)',\n    WebkitBackdropFilter: 'blur(12px)',\n    color: 'white',\n    marginBottom: 20\n    // 无边框\n  };\n  const buttonStyle = {\n    padding: '10px 20px',\n    backgroundColor: 'rgba(0, 229, 255, 0.7)',\n    color: 'black',\n    fontWeight: 'bold',\n    border: 'none',\n    borderRadius: 6,\n    cursor: 'pointer',\n    userSelect: 'none'\n  };\n  const resetSingleBtnStyle = {\n    padding: '4px 10px',\n    borderRadius: 4,\n    border: 'none',\n    backgroundColor: 'rgba(40, 167, 69, 0.8)',\n    // 绿色半透明\n    color: 'white',\n    cursor: 'pointer',\n    userSelect: 'none'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'white',\n      maxWidth: 700,\n      margin: 'auto',\n      fontFamily: 'sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => setWallpaperFolded(!wallpaperFolded),\n      style: foldHeaderStyle,\n      \"aria-expanded\": !wallpaperFolded,\n      \"aria-controls\": \"wallpaperSettingsPanel\",\n      tabIndex: 0,\n      onKeyDown: e => {\n        if (e.key === 'Enter' || e.key === ' ') setWallpaperFolded(!wallpaperFolded);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u58C1\\u7EB8\\u8BBE\\u7F6E (\\u70B9\\u51FB\", wallpaperFolded ? '展开' : '收起', \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 18\n        },\n        children: wallpaperFolded ? '+' : '−'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), !wallpaperFolded && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"wallpaperSettingsPanel\",\n      style: panelContainerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"menuSelect\",\n          style: {\n            display: 'block',\n            marginBottom: 6\n          },\n          children: \"\\u9009\\u62E9\\u83DC\\u5355\\u9879\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"menuSelect\",\n          value: selectedMenu,\n          onChange: handleMenuChange,\n          style: {\n            width: '100%',\n            padding: 8,\n            borderRadius: 4,\n            border: 'none',\n            fontSize: 16,\n            backgroundColor: 'rgba(255,255,255,0.1)',\n            color: 'white'\n          },\n          children: menuItems.map(({\n            key,\n            label\n          }) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: key,\n            children: label\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 6\n          },\n          children: \"\\u58C1\\u7EB8\\u7C7B\\u578B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this), wallpaperTypes.map(({\n          value,\n          label\n        }) => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginRight: 20,\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"wallpaperType\",\n            value: value,\n            checked: selectedType === value,\n            onChange: handleTypeChange,\n            style: {\n              marginRight: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this), label]\n        }, value, true, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this), (selectedType === 'image' || selectedType === 'video') && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mediaSrc\",\n          style: {\n            display: 'block',\n            marginBottom: 6\n          },\n          children: selectedType === 'image' ? '图片地址(URL 或本地路径)' : '视频地址(URL 或本地路径)'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"mediaSrc\",\n          type: \"text\",\n          value: mediaSrc,\n          onChange: handleMediaSrcChange,\n          placeholder: selectedType === 'image' ? '例如 https://example.com/bg.jpg 或 /local/path/bg.jpg' : '例如 https://example.com/bg.mp4 或 /local/path/bg.mp4',\n          style: {\n            width: '100%',\n            padding: 8,\n            borderRadius: 4,\n            border: 'none',\n            fontSize: 16,\n            backgroundColor: 'rgba(255,255,255,0.1)',\n            color: 'white'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 13\n      }, this), selectedType === 'camera' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"cameraSelect\",\n          style: {\n            display: 'block',\n            marginBottom: 6\n          },\n          children: \"\\u9009\\u62E9\\u6444\\u50CF\\u5934\\u8BBE\\u5907\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"cameraSelect\",\n          value: selectedCameraId || '',\n          onChange: handleCameraSelect,\n          style: {\n            width: '100%',\n            padding: 8,\n            borderRadius: 4,\n            border: 'none',\n            fontSize: 16,\n            backgroundColor: 'rgba(255,255,255,0.1)',\n            color: 'white'\n          },\n          disabled: availableCameras.length === 0,\n          children: [availableCameras.length === 0 && /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u65E0\\u53EF\\u7528\\u6444\\u50CF\\u5934\\u8BBE\\u5907\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 51\n          }, this), availableCameras.map(device => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: device.deviceId,\n            children: device.label || `摄像头 ${device.deviceId}`\n          }, device.deviceId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }, this), cameraError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'orange',\n            marginTop: 6\n          },\n          children: cameraError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        style: buttonStyle,\n        children: \"\\u4FDD\\u5B58\\u8BBE\\u7F6E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u9884\\u89C8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            borderRadius: 8,\n            padding: 10,\n            backgroundColor: 'rgba(0,0,0,0.3)',\n            backdropFilter: 'blur(10px)',\n            WebkitBackdropFilter: 'blur(10px)'\n          },\n          children: renderPreview()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => setPanelResetFolded(!panelResetFolded),\n      style: foldHeaderStyle,\n      \"aria-expanded\": !panelResetFolded,\n      \"aria-controls\": \"panelResetPanel\",\n      tabIndex: 0,\n      onKeyDown: e => {\n        if (e.key === 'Enter' || e.key === ' ') setPanelResetFolded(!panelResetFolded);\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u9762\\u677F\\u4F4D\\u7F6E\\u91CD\\u7F6E (\\u70B9\\u51FB\", panelResetFolded ? '展开' : '收起', \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 18\n        },\n        children: panelResetFolded ? '+' : '−'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 7\n    }, this), !panelResetFolded && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"panelResetPanel\",\n      style: panelContainerStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetAllPanels,\n        style: buttonStyle,\n        children: \"\\u91CD\\u7F6E\\u6240\\u6709\\u9762\\u677F\\u5230\\u9ED8\\u8BA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            color: 'white'\n          },\n          children: \"\\u91CD\\u7F6E\\u5355\\u4E2A\\u9762\\u677F\\u4F4D\\u7F6E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), panels.map(({\n          id,\n          left,\n          top,\n          width,\n          height\n        }) => /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'space-between',\n            marginBottom: 10,\n            borderRadius: 4,\n            padding: 10,\n            backgroundColor: 'rgba(255, 255, 255, 0.05)',\n            color: 'white',\n            userSelect: 'none'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: 12,\n                color: '#bbb'\n              },\n              children: [\"\\u5F53\\u524D\\uFF1A\", left, \",\", top, \"\\uFF0C\\u5927\\u5C0F\\uFF1A\", width, \"x\", height]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => resetSinglePanel(id),\n            style: resetSingleBtnStyle,\n            children: \"\\u91CD\\u7F6E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this)]\n        }, id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 311,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 200,\n    columnNumber: 5\n  }, this);\n}\n\n// CameraPreview 组件保持不变\n_s(Settings, \"9/ef7Xg0/y7nYXce6yTKqRSkfOU=\");\n_c = Settings;\nfunction CameraPreview({\n  cameraId\n}) {\n  _s2();\n  const videoRef = React.useRef(null);\n  const [error, setError] = React.useState(null);\n  React.useEffect(() => {\n    if (!cameraId) {\n      setError('未选择摄像头');\n      return;\n    }\n    setError(null);\n    let stream;\n    const constraints = {\n      video: {\n        deviceId: {\n          exact: cameraId\n        }\n      },\n      audio: false\n    };\n    async function startStream() {\n      try {\n        stream = await navigator.mediaDevices.getUserMedia(constraints);\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          await videoRef.current.play();\n        }\n      } catch {\n        setError('无法访问摄像头，可能未授权或设备异常');\n      }\n    }\n    startStream();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      if (videoRef.current) {\n        videoRef.current.srcObject = null;\n      }\n    };\n  }, [cameraId]);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"video\", {\n    ref: videoRef,\n    style: {\n      width: '100%',\n      maxHeight: 300,\n      borderRadius: 8,\n      backgroundColor: '#000'\n    },\n    muted: true,\n    playsInline: true,\n    autoPlay: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 398,\n    columnNumber: 5\n  }, this);\n}\n\n// isValidUrl 保持不变\n_s2(CameraPreview, \"Z4/Bk+yDXdHnVi24D9ydZvaMMK0=\");\n_c2 = CameraPreview;\nfunction isValidUrl(string) {\n  try {\n    new URL(string);\n    return true;\n  } catch {\n    return false;\n  }\n}\nvar _c, _c2;\n$RefreshReg$(_c, \"Settings\");\n$RefreshReg$(_c2, \"CameraPreview\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","menuItems","key","label","wallpaperTypes","value","Settings","wallpaperSettings","setWallpaperSettings","panels","resetAllPanels","resetSinglePanel","_s","selectedMenu","setSelectedMenu","selectedType","setSelectedType","mediaSrc","setMediaSrc","availableCameras","setAvailableCameras","selectedCameraId","setSelectedCameraId","cameraError","setCameraError","wallpaperFolded","setWallpaperFolded","panelResetFolded","setPanelResetFolded","cfg","type","fetchCameras","devices","navigator","mediaDevices","enumerateDevices","videoDevices","filter","d","kind","some","deviceId","handleMenuChange","e","target","handleTypeChange","newType","length","handleMediaSrcChange","handleCameraSelect","handleSave","valueToSave","trim","isValidUrl","startsWith","alert","prev","renderPreview","src","alt","style","maxWidth","maxHeight","borderRadius","objectFit","backgroundColor","onError","currentTarget","fileName","_jsxFileName","lineNumber","columnNumber","controls","muted","loop","autoPlay","color","children","CameraPreview","cameraId","foldHeaderStyle","cursor","userSelect","display","justifyContent","alignItems","padding","backdropFilter","WebkitBackdropFilter","border","panelContainerStyle","marginBottom","buttonStyle","fontWeight","resetSingleBtnStyle","margin","fontFamily","onClick","tabIndex","onKeyDown","fontSize","id","htmlFor","onChange","width","map","marginRight","name","checked","placeholder","disabled","device","marginTop","left","top","height","_c","_s2","videoRef","useRef","error","setError","stream","constraints","video","exact","audio","startStream","getUserMedia","current","srcObject","play","getTracks","forEach","track","stop","ref","playsInline","_c2","string","URL","$RefreshReg$"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/Settings.jsx"],"sourcesContent":["// components/Settings.jsx\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst menuItems = [\r\n  { key: 'home', label: '主页' },\r\n  { key: 'butler', label: '管家' },\r\n  { key: 'car', label: '车' },\r\n  { key: 'homeassistant', label: 'HA' },\r\n  { key: 'ops', label: '运维' },\r\n  { key: 'settings', label: '设置' },\r\n];\r\n\r\nconst wallpaperTypes = [\r\n  { value: 'image', label: '静态图片' },\r\n  { value: 'video', label: '视频背景' },\r\n  { value: 'camera', label: '摄像头实时画面' },\r\n];\r\n\r\n// ... isValidUrl 和 CameraPreview 保持不变 ...\r\n\r\nexport default function Settings({ wallpaperSettings, setWallpaperSettings, panels = [], resetAllPanels, resetSinglePanel }) {\r\n  const [selectedMenu, setSelectedMenu] = useState('home');\r\n  const [selectedType, setSelectedType] = useState('image');\r\n  const [mediaSrc, setMediaSrc] = useState('');\r\n  const [availableCameras, setAvailableCameras] = useState([]);\r\n  const [selectedCameraId, setSelectedCameraId] = useState(null);\r\n  const [cameraError, setCameraError] = useState(null);\r\n\r\n  const [wallpaperFolded, setWallpaperFolded] = useState(false);\r\n  const [panelResetFolded, setPanelResetFolded] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const cfg = wallpaperSettings[selectedMenu] || { type: 'image', value: '' };\r\n    setSelectedType(cfg.type);\r\n    if (cfg.type === 'camera') {\r\n      setSelectedCameraId(cfg.value || null);\r\n      setMediaSrc('');\r\n    } else {\r\n      setMediaSrc(cfg.value || '');\r\n      setSelectedCameraId(null);\r\n    }\r\n    setCameraError(null);\r\n  }, [selectedMenu, wallpaperSettings]);\r\n\r\n  useEffect(() => {\r\n    async function fetchCameras() {\r\n      try {\r\n        const devices = await navigator.mediaDevices.enumerateDevices();\r\n        const videoDevices = devices.filter(d => d.kind === 'videoinput');\r\n        setAvailableCameras(videoDevices);\r\n        if (selectedCameraId && !videoDevices.some(d => d.deviceId === selectedCameraId)) {\r\n          setSelectedCameraId(null);\r\n        }\r\n      } catch {\r\n        setAvailableCameras([]);\r\n        setCameraError('无法获取摄像头设备列表，可能未授予权限或浏览器不支持。');\r\n      }\r\n    }\r\n    fetchCameras();\r\n  }, [selectedCameraId]);\r\n\r\n  const handleMenuChange = (e) => {\r\n    setSelectedMenu(e.target.value);\r\n    setCameraError(null);\r\n  };\r\n\r\n  const handleTypeChange = (e) => {\r\n    const newType = e.target.value;\r\n    setSelectedType(newType);\r\n    setCameraError(null);\r\n\r\n    if (newType === 'camera') {\r\n      setMediaSrc('');\r\n      if (availableCameras.length > 0) {\r\n        setSelectedCameraId(availableCameras[0].deviceId);\r\n      } else {\r\n        setSelectedCameraId(null);\r\n      }\r\n    } else {\r\n      setMediaSrc('');\r\n      setSelectedCameraId(null);\r\n    }\r\n  };\r\n\r\n  const handleMediaSrcChange = (e) => setMediaSrc(e.target.value);\r\n  const handleCameraSelect = (e) => {\r\n    setSelectedCameraId(e.target.value);\r\n    setCameraError(null);\r\n  };\r\n\r\n  const handleSave = () => {\r\n    let valueToSave = null;\r\n    if (selectedType === 'camera') {\r\n      valueToSave = selectedCameraId || null;\r\n    } else if (selectedType === 'image' || selectedType === 'video') {\r\n      valueToSave = mediaSrc.trim() || null;\r\n    }\r\n\r\n    if ((selectedType === 'image' || selectedType === 'video') && valueToSave) {\r\n      if (!isValidUrl(valueToSave) && !valueToSave.startsWith('/')) {\r\n        alert('请输入有效的 URL 地址或以 / 开头的本地路径');\r\n        return;\r\n      }\r\n    }\r\n\r\n    setWallpaperSettings(prev => ({\r\n      ...prev,\r\n      [selectedMenu]: {\r\n        type: selectedType,\r\n        value: valueToSave,\r\n      },\r\n    }));\r\n\r\n    alert('保存成功');\r\n  };\r\n\r\n  const renderPreview = () => {\r\n    if (selectedType === 'image' && mediaSrc) {\r\n      return (\r\n        <img\r\n          src={mediaSrc}\r\n          alt=\"背景图片预览\"\r\n          style={{ maxWidth: '100%', maxHeight: 300, borderRadius: 8, objectFit: 'contain', backgroundColor: '#111' }}\r\n          onError={(e) => { e.currentTarget.src = ''; }}\r\n        />\r\n      );\r\n    }\r\n    if (selectedType === 'video' && mediaSrc) {\r\n      return (\r\n        <video\r\n          src={mediaSrc}\r\n          style={{ maxWidth: '100%', maxHeight: 300, borderRadius: 8, backgroundColor: '#111' }}\r\n          controls\r\n          muted\r\n          loop\r\n          autoPlay\r\n        />\r\n      );\r\n    }\r\n    if (selectedType === 'camera') {\r\n      if (availableCameras.length === 0) {\r\n        return <div style={{ color: 'orange' }}>无可用摄像头设备或未授权访问摄像头。</div>;\r\n      }\r\n      return (\r\n        <CameraPreview cameraId={selectedCameraId} />\r\n      );\r\n    }\r\n    return <div style={{ color: '#666' }}>请选择壁纸类型并输入或选择资源。</div>;\r\n  };\r\n\r\n  // 新增样式定义\r\n  const foldHeaderStyle = {\r\n    cursor: 'pointer',\r\n    userSelect: 'none',\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    padding: '10px 15px',\r\n    borderRadius: '6px',\r\n    backgroundColor: 'rgba(0, 229, 255, 0.1)', // 磨砂浅蓝半透明\r\n    backdropFilter: 'blur(12px)',\r\n    WebkitBackdropFilter: 'blur(12px)',\r\n    color: 'white',\r\n    border: 'none', // 无边框\r\n  };\r\n\r\n  const panelContainerStyle = {\r\n    padding: 12,\r\n    borderRadius: 6,\r\n    backgroundColor: 'rgba(0,0,0,0.3)', // 深色半透明磨砂背景\r\n    backdropFilter: 'blur(12px)',\r\n    WebkitBackdropFilter: 'blur(12px)',\r\n    color: 'white',\r\n    marginBottom: 20,\r\n    // 无边框\r\n  };\r\n\r\n  const buttonStyle = {\r\n    padding: '10px 20px',\r\n    backgroundColor: 'rgba(0, 229, 255, 0.7)',\r\n    color: 'black',\r\n    fontWeight: 'bold',\r\n    border: 'none',\r\n    borderRadius: 6,\r\n    cursor: 'pointer',\r\n    userSelect: 'none',\r\n  };\r\n\r\n  const resetSingleBtnStyle = {\r\n    padding: '4px 10px',\r\n    borderRadius: 4,\r\n    border: 'none',\r\n    backgroundColor: 'rgba(40, 167, 69, 0.8)',  // 绿色半透明\r\n    color: 'white',\r\n    cursor: 'pointer',\r\n    userSelect: 'none',\r\n  };\r\n\r\n  return (\r\n    <div style={{ color: 'white', maxWidth: 700, margin: 'auto', fontFamily: 'sans-serif' }}>\r\n      {/* 壁纸设置折叠头 */}\r\n      <div\r\n        onClick={() => setWallpaperFolded(!wallpaperFolded)}\r\n        style={foldHeaderStyle}\r\n        aria-expanded={!wallpaperFolded}\r\n        aria-controls=\"wallpaperSettingsPanel\"\r\n        tabIndex={0}\r\n        onKeyDown={e => { if (e.key === 'Enter' || e.key === ' ') setWallpaperFolded(!wallpaperFolded); }}\r\n      >\r\n        <span>壁纸设置 (点击{wallpaperFolded ? '展开' : '收起'})</span>\r\n        <span style={{ fontSize: 18 }}>{wallpaperFolded ? '+' : '−'}</span>\r\n      </div>\r\n\r\n      {!wallpaperFolded && (\r\n        <div id=\"wallpaperSettingsPanel\" style={panelContainerStyle}>\r\n          <div style={{ marginBottom: 16 }}>\r\n            <label htmlFor=\"menuSelect\" style={{ display: 'block', marginBottom: 6 }}>选择菜单项</label>\r\n            <select\r\n              id=\"menuSelect\"\r\n              value={selectedMenu}\r\n              onChange={handleMenuChange}\r\n              style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16, backgroundColor: 'rgba(255,255,255,0.1)', color: 'white' }}\r\n            >\r\n              {menuItems.map(({ key, label }) => (\r\n                <option key={key} value={key}>{label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div style={{ marginBottom: 16 }}>\r\n            <label style={{ display: 'block', marginBottom: 6 }}>壁纸类型</label>\r\n            {wallpaperTypes.map(({ value, label }) => (\r\n              <label key={value} style={{ marginRight: 20, cursor: 'pointer' }}>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"wallpaperType\"\r\n                  value={value}\r\n                  checked={selectedType === value}\r\n                  onChange={handleTypeChange}\r\n                  style={{ marginRight: 6 }}\r\n                />\r\n                {label}\r\n              </label>\r\n            ))}\r\n          </div>\r\n\r\n          {(selectedType === 'image' || selectedType === 'video') && (\r\n            <div style={{ marginBottom: 16 }}>\r\n              <label htmlFor=\"mediaSrc\" style={{ display: 'block', marginBottom: 6 }}>\r\n                {selectedType === 'image' ? '图片地址(URL 或本地路径)' : '视频地址(URL 或本地路径)'}\r\n              </label>\r\n              <input\r\n                id=\"mediaSrc\"\r\n                type=\"text\"\r\n                value={mediaSrc}\r\n                onChange={handleMediaSrcChange}\r\n                placeholder={selectedType === 'image' ? '例如 https://example.com/bg.jpg 或 /local/path/bg.jpg' : '例如 https://example.com/bg.mp4 或 /local/path/bg.mp4'}\r\n                style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16, backgroundColor: 'rgba(255,255,255,0.1)', color: 'white' }}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === 'camera' && (\r\n            <div style={{ marginBottom: 16 }}>\r\n              <label htmlFor=\"cameraSelect\" style={{ display: 'block', marginBottom: 6 }}>选择摄像头设备</label>\r\n              <select\r\n                id=\"cameraSelect\"\r\n                value={selectedCameraId || ''}\r\n                onChange={handleCameraSelect}\r\n                style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16, backgroundColor: 'rgba(255,255,255,0.1)', color: 'white' }}\r\n                disabled={availableCameras.length === 0}\r\n              >\r\n                {availableCameras.length === 0 && <option value=\"\">无可用摄像头设备</option>}\r\n                {availableCameras.map((device) => (\r\n                  <option key={device.deviceId} value={device.deviceId}>\r\n                    {device.label || `摄像头 ${device.deviceId}`}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              {cameraError && <p style={{ color: 'orange', marginTop: 6 }}>{cameraError}</p>}\r\n            </div>\r\n          )}\r\n\r\n          <button onClick={handleSave} style={buttonStyle}>\r\n            保存设置\r\n          </button>\r\n\r\n          <div>\r\n            <h4>预览</h4>\r\n            <div style={{ borderRadius: 8, padding: 10, backgroundColor: 'rgba(0,0,0,0.3)', backdropFilter: 'blur(10px)', WebkitBackdropFilter: 'blur(10px)' }}>\r\n              {renderPreview()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 面板重置折叠头 */}\r\n      <div\r\n        onClick={() => setPanelResetFolded(!panelResetFolded)}\r\n        style={foldHeaderStyle}\r\n        aria-expanded={!panelResetFolded}\r\n        aria-controls=\"panelResetPanel\"\r\n        tabIndex={0}\r\n        onKeyDown={e => { if (e.key === 'Enter' || e.key === ' ') setPanelResetFolded(!panelResetFolded); }}\r\n      >\r\n        <span>面板位置重置 (点击{panelResetFolded ? '展开' : '收起'})</span>\r\n        <span style={{ fontSize: 18 }}>{panelResetFolded ? '+' : '−'}</span>\r\n      </div>\r\n\r\n      {!panelResetFolded && (\r\n        <div id=\"panelResetPanel\" style={panelContainerStyle}>\r\n          <button onClick={resetAllPanels} style={buttonStyle}>\r\n            重置所有面板到默认\r\n          </button>\r\n\r\n          <div>\r\n            <h4 style={{ color: 'white' }}>重置单个面板位置</h4>\r\n            {panels.map(({ id, left, top, width, height }) => (\r\n              <div\r\n                key={id}\r\n                style={{\r\n                  display: 'flex',\r\n                  alignItems: 'center',\r\n                  justifyContent: 'space-between',\r\n                  marginBottom: 10,\r\n                  borderRadius: 4,\r\n                  padding: 10,\r\n                  backgroundColor: 'rgba(255, 255, 255, 0.05)',\r\n                  color: 'white',\r\n                  userSelect: 'none',\r\n                }}\r\n              >\r\n                <div>\r\n                  <strong>{id}</strong>\r\n                  <div style={{ fontSize: 12, color: '#bbb' }}>\r\n                    当前：{left},{top}，大小：{width}x{height}\r\n                  </div>\r\n                </div>\r\n                <button onClick={() => resetSinglePanel(id)} style={resetSingleBtnStyle}>\r\n                  重置\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// CameraPreview 组件保持不变\r\nfunction CameraPreview({ cameraId }) {\r\n  const videoRef = React.useRef(null);\r\n  const [error, setError] = React.useState(null);\r\n\r\n  React.useEffect(() => {\r\n    if (!cameraId) {\r\n      setError('未选择摄像头');\r\n      return;\r\n    }\r\n    setError(null);\r\n\r\n    let stream;\r\n\r\n    const constraints = {\r\n      video: { deviceId: { exact: cameraId } },\r\n      audio: false,\r\n    };\r\n\r\n    async function startStream() {\r\n      try {\r\n        stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n          await videoRef.current.play();\r\n        }\r\n      } catch {\r\n        setError('无法访问摄像头，可能未授权或设备异常');\r\n      }\r\n    }\r\n    startStream();\r\n\r\n    return () => {\r\n      if (stream) {\r\n        stream.getTracks().forEach(track => track.stop());\r\n      }\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = null;\r\n      }\r\n    };\r\n  }, [cameraId]);\r\n\r\n  if (error) {\r\n    return <div style={{ color: 'red' }}>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <video\r\n      ref={videoRef}\r\n      style={{ width: '100%', maxHeight: 300, borderRadius: 8, backgroundColor: '#000' }}\r\n      muted\r\n      playsInline\r\n      autoPlay\r\n    />\r\n  );\r\n}\r\n\r\n// isValidUrl 保持不变\r\nfunction isValidUrl(string) {\r\n  try {\r\n    new URL(string);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}