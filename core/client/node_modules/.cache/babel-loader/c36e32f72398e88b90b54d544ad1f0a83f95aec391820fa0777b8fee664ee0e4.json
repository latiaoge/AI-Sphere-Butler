{"ast":null,"code":"var _jsxFileName = \"D:\\\\XM\\\\AI-Sphere-Butler\\\\core\\\\client\\\\src\\\\components\\\\Settings.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\n// components/Settings.jsx\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst menuItems = [{\n  key: 'home',\n  label: '主页'\n}, {\n  key: 'butler',\n  label: '管家'\n}, {\n  key: 'car',\n  label: '车'\n}, {\n  key: 'homeassistant',\n  label: 'HA'\n}, {\n  key: 'ops',\n  label: '运维'\n}, {\n  key: 'settings',\n  label: '设置'\n}];\n\n// 壁纸类型选项\nconst wallpaperTypes = [{\n  value: 'image',\n  label: '静态图片'\n}, {\n  value: 'video',\n  label: '视频背景'\n}, {\n  value: 'camera',\n  label: '摄像头实时画面'\n}];\n\n// 工具函数，安全检查URL（简单版）\nfunction isValidUrl(string) {\n  try {\n    new URL(string);\n    return true;\n  } catch {\n    return false;\n  }\n}\nexport default function Settings({\n  wallpaperSettings,\n  setWallpaperSettings,\n  panels,\n  resetAllPanels,\n  resetSinglePanel\n}) {\n  _s();\n  const [selectedMenu, setSelectedMenu] = useState('home');\n  const [selectedType, setSelectedType] = useState('image');\n  const [mediaSrc, setMediaSrc] = useState('');\n  const [availableCameras, setAvailableCameras] = useState([]);\n  const [selectedCameraId, setSelectedCameraId] = useState(null);\n  const [cameraError, setCameraError] = useState(null);\n\n  // 是否展开壁纸设置区域\n  const [wallpaperFolded, setWallpaperFolded] = useState(false);\n  // 是否展开面板重置区域\n  const [panelResetFolded, setPanelResetFolded] = useState(true);\n\n  // 加载当前菜单的壁纸配置到本地状态\n  useEffect(() => {\n    const cfg = wallpaperSettings[selectedMenu] || {\n      type: 'image',\n      value: ''\n    };\n    setSelectedType(cfg.type);\n    if (cfg.type === 'camera') {\n      setSelectedCameraId(cfg.value || null);\n      setMediaSrc('');\n    } else {\n      setMediaSrc(cfg.value || '');\n      setSelectedCameraId(null);\n    }\n    setCameraError(null);\n  }, [selectedMenu, wallpaperSettings]);\n\n  // 获取摄像头设备列表\n  useEffect(() => {\n    async function fetchCameras() {\n      try {\n        const devices = await navigator.mediaDevices.enumerateDevices();\n        const videoDevices = devices.filter(d => d.kind === 'videoinput');\n        setAvailableCameras(videoDevices);\n        if (selectedCameraId && !videoDevices.some(d => d.deviceId === selectedCameraId)) {\n          setSelectedCameraId(null);\n        }\n      } catch (e) {\n        setAvailableCameras([]);\n        setCameraError('无法获取摄像头设备列表，可能未授予权限或浏览器不支持。');\n      }\n    }\n    fetchCameras();\n  }, [selectedCameraId]);\n\n  // 选择菜单项\n  const handleMenuChange = e => {\n    setSelectedMenu(e.target.value);\n    setCameraError(null);\n  };\n\n  // 选择壁纸类型\n  const handleTypeChange = e => {\n    const newType = e.target.value;\n    setSelectedType(newType);\n    setCameraError(null);\n    if (newType === 'camera') {\n      setMediaSrc('');\n      if (availableCameras.length > 0) {\n        setSelectedCameraId(availableCameras[0].deviceId);\n      } else {\n        setSelectedCameraId(null);\n      }\n    } else {\n      setMediaSrc('');\n      setSelectedCameraId(null);\n    }\n  };\n\n  // 媒体资源地址输入\n  const handleMediaSrcChange = e => {\n    setMediaSrc(e.target.value);\n  };\n\n  // 选择摄像头设备\n  const handleCameraSelect = e => {\n    setSelectedCameraId(e.target.value);\n    setCameraError(null);\n  };\n\n  // 保存当前配置\n  const handleSave = () => {\n    let valueToSave = null;\n    if (selectedType === 'camera') {\n      valueToSave = selectedCameraId || null;\n    } else if (selectedType === 'image' || selectedType === 'video') {\n      valueToSave = mediaSrc.trim() || null;\n    }\n    if ((selectedType === 'image' || selectedType === 'video') && valueToSave) {\n      if (!isValidUrl(valueToSave) && !valueToSave.startsWith('/')) {\n        alert('请输入有效的 URL 地址或以 / 开头的本地路径');\n        return;\n      }\n    }\n    setWallpaperSettings(prev => ({\n      ...prev,\n      [selectedMenu]: {\n        type: selectedType,\n        value: valueToSave\n      }\n    }));\n    alert('保存成功');\n  };\n\n  // 预览当前配置\n  const renderPreview = () => {\n    if (selectedType === 'image' && mediaSrc) {\n      return /*#__PURE__*/_jsxDEV(\"img\", {\n        src: mediaSrc,\n        alt: \"\\u80CC\\u666F\\u56FE\\u7247\\u9884\\u89C8\",\n        style: {\n          maxWidth: '100%',\n          maxHeight: 300,\n          borderRadius: 8,\n          objectFit: 'contain',\n          backgroundColor: '#111'\n        },\n        onError: e => {\n          e.currentTarget.src = '';\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 9\n      }, this);\n    }\n    if (selectedType === 'video' && mediaSrc) {\n      return /*#__PURE__*/_jsxDEV(\"video\", {\n        src: mediaSrc,\n        style: {\n          maxWidth: '100%',\n          maxHeight: 300,\n          borderRadius: 8,\n          backgroundColor: '#111'\n        },\n        controls: true,\n        muted: true,\n        loop: true,\n        autoPlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 9\n      }, this);\n    }\n    if (selectedType === 'camera') {\n      if (availableCameras.length === 0) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'orange'\n          },\n          children: \"\\u65E0\\u53EF\\u7528\\u6444\\u50CF\\u5934\\u8BBE\\u5907\\u6216\\u672A\\u6388\\u6743\\u8BBF\\u95EE\\u6444\\u50CF\\u5934\\u3002\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 16\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(CameraPreview, {\n        cameraId: selectedCameraId\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 9\n      }, this);\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#666'\n      },\n      children: \"\\u8BF7\\u9009\\u62E9\\u58C1\\u7EB8\\u7C7B\\u578B\\u5E76\\u8F93\\u5165\\u6216\\u9009\\u62E9\\u8D44\\u6E90\\u3002\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 12\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'white',\n      maxWidth: 700,\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => setWallpaperFolded(!wallpaperFolded),\n      style: {\n        cursor: 'pointer',\n        backgroundColor: '#00e5ff',\n        padding: '10px 15px',\n        borderRadius: '6px',\n        fontWeight: 'bold',\n        marginBottom: 10,\n        userSelect: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n      },\n      \"aria-expanded\": !wallpaperFolded,\n      \"aria-controls\": \"wallpaperSettingsPanel\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u58C1\\u7EB8\\u8BBE\\u7F6E (\\u70B9\\u51FB\", wallpaperFolded ? '展开' : '收起', \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 18\n        },\n        children: wallpaperFolded ? '+' : '−'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), !wallpaperFolded && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"wallpaperSettingsPanel\",\n      style: {\n        marginBottom: 20,\n        padding: 10,\n        border: '1px solid #00e5ff',\n        borderRadius: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"menuSelect\",\n          style: {\n            display: 'block',\n            marginBottom: 4\n          },\n          children: \"\\u9009\\u62E9\\u83DC\\u5355\\u9879\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"menuSelect\",\n          value: selectedMenu,\n          onChange: handleMenuChange,\n          style: {\n            width: '100%',\n            padding: 8,\n            borderRadius: 4,\n            border: 'none',\n            fontSize: 16\n          },\n          children: menuItems.map(({\n            key,\n            label\n          }) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: key,\n            children: label\n          }, key, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            display: 'block',\n            marginBottom: 4\n          },\n          children: \"\\u58C1\\u7EB8\\u7C7B\\u578B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 13\n        }, this), wallpaperTypes.map(({\n          value,\n          label\n        }) => /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginRight: 20,\n            cursor: 'pointer'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"wallpaperType\",\n            value: value,\n            checked: selectedType === value,\n            onChange: handleTypeChange,\n            style: {\n              marginRight: 6\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this), label]\n        }, value, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 11\n      }, this), (selectedType === 'image' || selectedType === 'video') && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"mediaSrc\",\n          style: {\n            display: 'block',\n            marginBottom: 4\n          },\n          children: selectedType === 'image' ? '图片地址(URL 或本地路径)' : '视频地址(URL 或本地路径)'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"mediaSrc\",\n          type: \"text\",\n          value: mediaSrc,\n          onChange: handleMediaSrcChange,\n          placeholder: selectedType === 'image' ? '例如 https://example.com/bg.jpg 或 /local/path/bg.jpg' : '例如 https://example.com/bg.mp4 或 /local/path/bg.mp4',\n          style: {\n            width: '100%',\n            padding: 8,\n            borderRadius: 4,\n            border: 'none',\n            fontSize: 16\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 13\n      }, this), selectedType === 'camera' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: 12\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"cameraSelect\",\n          style: {\n            display: 'block',\n            marginBottom: 4\n          },\n          children: \"\\u9009\\u62E9\\u6444\\u50CF\\u5934\\u8BBE\\u5907\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          id: \"cameraSelect\",\n          value: selectedCameraId || '',\n          onChange: handleCameraSelect,\n          style: {\n            width: '100%',\n            padding: 8,\n            borderRadius: 4,\n            border: 'none',\n            fontSize: 16\n          },\n          disabled: availableCameras.length === 0,\n          children: [availableCameras.length === 0 && /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u65E0\\u53EF\\u7528\\u6444\\u50CF\\u5934\\u8BBE\\u5907\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 51\n          }, this), availableCameras.map(device => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: device.deviceId,\n            children: device.label || `摄像头 ${device.deviceId}`\n          }, device.deviceId, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 19\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 15\n        }, this), cameraError && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'orange',\n            marginTop: 6\n          },\n          children: cameraError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 31\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        style: {\n          padding: '10px 20px',\n          backgroundColor: '#00e5ff',\n          color: 'black',\n          fontWeight: 'bold',\n          border: 'none',\n          borderRadius: 6,\n          cursor: 'pointer',\n          marginBottom: 20,\n          userSelect: 'none'\n        },\n        children: \"\\u4FDD\\u5B58\\u8BBE\\u7F6E\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"\\u9884\\u89C8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 285,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '1px solid #444',\n            borderRadius: 8,\n            padding: 10,\n            backgroundColor: '#111'\n          },\n          children: renderPreview()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      onClick: () => setPanelResetFolded(!panelResetFolded),\n      style: {\n        cursor: 'pointer',\n        backgroundColor: '#00e5ff',\n        padding: '10px 15px',\n        borderRadius: '6px',\n        fontWeight: 'bold',\n        marginBottom: 10,\n        userSelect: 'none',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'space-between'\n      },\n      \"aria-expanded\": !panelResetFolded,\n      \"aria-controls\": \"panelResetPanel\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"\\u9762\\u677F\\u4F4D\\u7F6E\\u91CD\\u7F6E (\\u70B9\\u51FB\", panelResetFolded ? '展开' : '收起', \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: 18\n        },\n        children: panelResetFolded ? '+' : '−'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), !panelResetFolded && /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"panelResetPanel\",\n      style: {\n        padding: 10,\n        border: '1px solid #00e5ff',\n        borderRadius: 6\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetAllPanels,\n        style: {\n          marginBottom: 20,\n          padding: '8px 16px',\n          backgroundColor: '#00e5ff',\n          color: 'white',\n          border: 'none',\n          borderRadius: 4,\n          cursor: 'pointer',\n          userSelect: 'none'\n        },\n        children: \"\\u91CD\\u7F6E\\u6240\\u6709\\u9762\\u677F\\u5230\\u9ED8\\u8BA4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          style: {\n            color: 'white'\n          },\n          children: \"\\u91CD\\u7F6E\\u5355\\u4E2A\\u9762\\u677F\\u4F4D\\u7F6E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 13\n        }, this), panels.map(({\n          id,\n          left,\n          top,\n          width,\n          height\n        }) => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'space-between',\n              marginBottom: 10,\n              border: '1px solid rgba(136, 136, 136, 0.3)',\n              borderRadius: 4,\n              padding: 10,\n              maxWidth: 400,\n              backgroundColor: 'rgba(0,123,255,0.05)',\n              color: 'white'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 354,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  fontSize: 12,\n                  color: '#bbb'\n                },\n                children: [\"\\u5F53\\u524D\\uFF1A\", left, \",\", top, \"\\uFF0C\\u5927\\u5C0F\\uFF1A\", width, \"x\", height]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 355,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => resetSinglePanel(id),\n              style: {\n                padding: '4px 10px',\n                borderRadius: 4,\n                border: 'none',\n                backgroundColor: '#28a745',\n                color: 'white',\n                cursor: 'pointer',\n                userSelect: 'none'\n              },\n              children: \"\\u91CD\\u7F6E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 19\n            }, this)]\n          }, id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 17\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n}\n\n// CameraPreview 组件用于预览摄像头视频\n_s(Settings, \"9/ef7Xg0/y7nYXce6yTKqRSkfOU=\");\n_c = Settings;\nfunction CameraPreview({\n  cameraId\n}) {\n  _s2();\n  const videoRef = React.useRef(null);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    if (!cameraId) {\n      setError('未选择摄像头');\n      return;\n    }\n    setError(null);\n    let stream;\n    const constraints = {\n      video: {\n        deviceId: {\n          exact: cameraId\n        }\n      },\n      audio: false\n    };\n    async function startStream() {\n      try {\n        stream = await navigator.mediaDevices.getUserMedia(constraints);\n        if (videoRef.current) {\n          videoRef.current.srcObject = stream;\n          await videoRef.current.play();\n        }\n      } catch (e) {\n        setError('无法访问摄像头，可能未授权或设备异常');\n      }\n    }\n    startStream();\n    return () => {\n      if (stream) {\n        stream.getTracks().forEach(track => track.stop());\n      }\n      if (videoRef.current) {\n        videoRef.current.srcObject = null;\n      }\n    };\n  }, [cameraId]);\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: 'red'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"video\", {\n    ref: videoRef,\n    style: {\n      width: '100%',\n      maxHeight: 300,\n      borderRadius: 8,\n      backgroundColor: '#000'\n    },\n    muted: true,\n    playsInline: true,\n    autoPlay: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 430,\n    columnNumber: 5\n  }, this);\n}\n_s2(CameraPreview, \"Z4/Bk+yDXdHnVi24D9ydZvaMMK0=\");\n_c2 = CameraPreview;\nvar _c, _c2;\n$RefreshReg$(_c, \"Settings\");\n$RefreshReg$(_c2, \"CameraPreview\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","menuItems","key","label","wallpaperTypes","value","isValidUrl","string","URL","Settings","wallpaperSettings","setWallpaperSettings","panels","resetAllPanels","resetSinglePanel","_s","selectedMenu","setSelectedMenu","selectedType","setSelectedType","mediaSrc","setMediaSrc","availableCameras","setAvailableCameras","selectedCameraId","setSelectedCameraId","cameraError","setCameraError","wallpaperFolded","setWallpaperFolded","panelResetFolded","setPanelResetFolded","cfg","type","fetchCameras","devices","navigator","mediaDevices","enumerateDevices","videoDevices","filter","d","kind","some","deviceId","e","handleMenuChange","target","handleTypeChange","newType","length","handleMediaSrcChange","handleCameraSelect","handleSave","valueToSave","trim","startsWith","alert","prev","renderPreview","src","alt","style","maxWidth","maxHeight","borderRadius","objectFit","backgroundColor","onError","currentTarget","fileName","_jsxFileName","lineNumber","columnNumber","controls","muted","loop","autoPlay","color","children","CameraPreview","cameraId","margin","onClick","cursor","padding","fontWeight","marginBottom","userSelect","display","alignItems","justifyContent","fontSize","id","border","htmlFor","onChange","width","map","marginRight","name","checked","placeholder","disabled","device","marginTop","left","top","height","_c","_s2","videoRef","useRef","error","setError","stream","constraints","video","exact","audio","startStream","getUserMedia","current","srcObject","play","getTracks","forEach","track","stop","ref","playsInline","_c2","$RefreshReg$"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/Settings.jsx"],"sourcesContent":["// components/Settings.jsx\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst menuItems = [\r\n  { key: 'home', label: '主页' },\r\n  { key: 'butler', label: '管家' },\r\n  { key: 'car', label: '车' },\r\n  { key: 'homeassistant', label: 'HA' },\r\n  { key: 'ops', label: '运维' },\r\n  { key: 'settings', label: '设置' },\r\n];\r\n\r\n// 壁纸类型选项\r\nconst wallpaperTypes = [\r\n  { value: 'image', label: '静态图片' },\r\n  { value: 'video', label: '视频背景' },\r\n  { value: 'camera', label: '摄像头实时画面' },\r\n];\r\n\r\n// 工具函数，安全检查URL（简单版）\r\nfunction isValidUrl(string) {\r\n  try {\r\n    new URL(string);\r\n    return true;\r\n  } catch {\r\n    return false;\r\n  }\r\n}\r\n\r\nexport default function Settings({ wallpaperSettings, setWallpaperSettings, panels, resetAllPanels, resetSinglePanel }) {\r\n  const [selectedMenu, setSelectedMenu] = useState('home');\r\n  const [selectedType, setSelectedType] = useState('image');\r\n  const [mediaSrc, setMediaSrc] = useState('');\r\n  const [availableCameras, setAvailableCameras] = useState([]);\r\n  const [selectedCameraId, setSelectedCameraId] = useState(null);\r\n  const [cameraError, setCameraError] = useState(null);\r\n\r\n  // 是否展开壁纸设置区域\r\n  const [wallpaperFolded, setWallpaperFolded] = useState(false);\r\n  // 是否展开面板重置区域\r\n  const [panelResetFolded, setPanelResetFolded] = useState(true);\r\n\r\n  // 加载当前菜单的壁纸配置到本地状态\r\n  useEffect(() => {\r\n    const cfg = wallpaperSettings[selectedMenu] || { type: 'image', value: '' };\r\n    setSelectedType(cfg.type);\r\n    if (cfg.type === 'camera') {\r\n      setSelectedCameraId(cfg.value || null);\r\n      setMediaSrc('');\r\n    } else {\r\n      setMediaSrc(cfg.value || '');\r\n      setSelectedCameraId(null);\r\n    }\r\n    setCameraError(null);\r\n  }, [selectedMenu, wallpaperSettings]);\r\n\r\n  // 获取摄像头设备列表\r\n  useEffect(() => {\r\n    async function fetchCameras() {\r\n      try {\r\n        const devices = await navigator.mediaDevices.enumerateDevices();\r\n        const videoDevices = devices.filter(d => d.kind === 'videoinput');\r\n        setAvailableCameras(videoDevices);\r\n        if (selectedCameraId && !videoDevices.some(d => d.deviceId === selectedCameraId)) {\r\n          setSelectedCameraId(null);\r\n        }\r\n      } catch (e) {\r\n        setAvailableCameras([]);\r\n        setCameraError('无法获取摄像头设备列表，可能未授予权限或浏览器不支持。');\r\n      }\r\n    }\r\n    fetchCameras();\r\n  }, [selectedCameraId]);\r\n\r\n  // 选择菜单项\r\n  const handleMenuChange = (e) => {\r\n    setSelectedMenu(e.target.value);\r\n    setCameraError(null);\r\n  };\r\n\r\n  // 选择壁纸类型\r\n  const handleTypeChange = (e) => {\r\n    const newType = e.target.value;\r\n    setSelectedType(newType);\r\n    setCameraError(null);\r\n\r\n    if (newType === 'camera') {\r\n      setMediaSrc('');\r\n      if (availableCameras.length > 0) {\r\n        setSelectedCameraId(availableCameras[0].deviceId);\r\n      } else {\r\n        setSelectedCameraId(null);\r\n      }\r\n    } else {\r\n      setMediaSrc('');\r\n      setSelectedCameraId(null);\r\n    }\r\n  };\r\n\r\n  // 媒体资源地址输入\r\n  const handleMediaSrcChange = (e) => {\r\n    setMediaSrc(e.target.value);\r\n  };\r\n\r\n  // 选择摄像头设备\r\n  const handleCameraSelect = (e) => {\r\n    setSelectedCameraId(e.target.value);\r\n    setCameraError(null);\r\n  };\r\n\r\n  // 保存当前配置\r\n  const handleSave = () => {\r\n    let valueToSave = null;\r\n    if (selectedType === 'camera') {\r\n      valueToSave = selectedCameraId || null;\r\n    } else if (selectedType === 'image' || selectedType === 'video') {\r\n      valueToSave = mediaSrc.trim() || null;\r\n    }\r\n\r\n    if ((selectedType === 'image' || selectedType === 'video') && valueToSave) {\r\n      if (!isValidUrl(valueToSave) && !valueToSave.startsWith('/')) {\r\n        alert('请输入有效的 URL 地址或以 / 开头的本地路径');\r\n        return;\r\n      }\r\n    }\r\n\r\n    setWallpaperSettings(prev => ({\r\n      ...prev,\r\n      [selectedMenu]: {\r\n        type: selectedType,\r\n        value: valueToSave,\r\n      },\r\n    }));\r\n\r\n    alert('保存成功');\r\n  };\r\n\r\n  // 预览当前配置\r\n  const renderPreview = () => {\r\n    if (selectedType === 'image' && mediaSrc) {\r\n      return (\r\n        <img\r\n          src={mediaSrc}\r\n          alt=\"背景图片预览\"\r\n          style={{ maxWidth: '100%', maxHeight: 300, borderRadius: 8, objectFit: 'contain', backgroundColor: '#111' }}\r\n          onError={(e) => { e.currentTarget.src = ''; }}\r\n        />\r\n      );\r\n    }\r\n    if (selectedType === 'video' && mediaSrc) {\r\n      return (\r\n        <video\r\n          src={mediaSrc}\r\n          style={{ maxWidth: '100%', maxHeight: 300, borderRadius: 8, backgroundColor: '#111' }}\r\n          controls\r\n          muted\r\n          loop\r\n          autoPlay\r\n        />\r\n      );\r\n    }\r\n    if (selectedType === 'camera') {\r\n      if (availableCameras.length === 0) {\r\n        return <div style={{ color: 'orange' }}>无可用摄像头设备或未授权访问摄像头。</div>;\r\n      }\r\n      return (\r\n        <CameraPreview cameraId={selectedCameraId} />\r\n      );\r\n    }\r\n    return <div style={{ color: '#666' }}>请选择壁纸类型并输入或选择资源。</div>;\r\n  };\r\n\r\n  return (\r\n    <div style={{ color: 'white', maxWidth: 700, margin: 'auto' }}>\r\n      {/* 壁纸设置折叠头 */}\r\n      <div \r\n        onClick={() => setWallpaperFolded(!wallpaperFolded)} \r\n        style={{\r\n          cursor: 'pointer',\r\n          backgroundColor: '#00e5ff',\r\n          padding: '10px 15px',\r\n          borderRadius: '6px',\r\n          fontWeight: 'bold',\r\n          marginBottom: 10,\r\n          userSelect: 'none',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n        }}\r\n        aria-expanded={!wallpaperFolded}\r\n        aria-controls=\"wallpaperSettingsPanel\"\r\n      >\r\n        <span>壁纸设置 (点击{wallpaperFolded ? '展开' : '收起'})</span>\r\n        <span style={{ fontSize: 18 }}>{wallpaperFolded ? '+' : '−'}</span>\r\n      </div>\r\n\r\n      {!wallpaperFolded && (\r\n        <div id=\"wallpaperSettingsPanel\" style={{ marginBottom: 20, padding: 10, border: '1px solid #00e5ff', borderRadius: 6 }}>\r\n          <div style={{ marginBottom: 12 }}>\r\n            <label htmlFor=\"menuSelect\" style={{ display: 'block', marginBottom: 4 }}>选择菜单项</label>\r\n            <select\r\n              id=\"menuSelect\"\r\n              value={selectedMenu}\r\n              onChange={handleMenuChange}\r\n              style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16 }}\r\n            >\r\n              {menuItems.map(({ key, label }) => (\r\n                <option key={key} value={key}>{label}</option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n\r\n          <div style={{ marginBottom: 12 }}>\r\n            <label style={{ display: 'block', marginBottom: 4 }}>壁纸类型</label>\r\n            {wallpaperTypes.map(({ value, label }) => (\r\n              <label key={value} style={{ marginRight: 20, cursor: 'pointer' }}>\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"wallpaperType\"\r\n                  value={value}\r\n                  checked={selectedType === value}\r\n                  onChange={handleTypeChange}\r\n                  style={{ marginRight: 6 }}\r\n                />\r\n                {label}\r\n              </label>\r\n            ))}\r\n          </div>\r\n\r\n          {(selectedType === 'image' || selectedType === 'video') && (\r\n            <div style={{ marginBottom: 12 }}>\r\n              <label htmlFor=\"mediaSrc\" style={{ display: 'block', marginBottom: 4 }}>\r\n                {selectedType === 'image' ? '图片地址(URL 或本地路径)' : '视频地址(URL 或本地路径)'}\r\n              </label>\r\n              <input\r\n                id=\"mediaSrc\"\r\n                type=\"text\"\r\n                value={mediaSrc}\r\n                onChange={handleMediaSrcChange}\r\n                placeholder={selectedType === 'image' ? '例如 https://example.com/bg.jpg 或 /local/path/bg.jpg' : '例如 https://example.com/bg.mp4 或 /local/path/bg.mp4'}\r\n                style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16 }}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          {selectedType === 'camera' && (\r\n            <div style={{ marginBottom: 12 }}>\r\n              <label htmlFor=\"cameraSelect\" style={{ display: 'block', marginBottom: 4 }}>选择摄像头设备</label>\r\n              <select\r\n                id=\"cameraSelect\"\r\n                value={selectedCameraId || ''}\r\n                onChange={handleCameraSelect}\r\n                style={{ width: '100%', padding: 8, borderRadius: 4, border: 'none', fontSize: 16 }}\r\n                disabled={availableCameras.length === 0}\r\n              >\r\n                {availableCameras.length === 0 && <option value=\"\">无可用摄像头设备</option>}\r\n                {availableCameras.map((device) => (\r\n                  <option key={device.deviceId} value={device.deviceId}>\r\n                    {device.label || `摄像头 ${device.deviceId}`}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              {cameraError && <p style={{ color: 'orange', marginTop: 6 }}>{cameraError}</p>}\r\n            </div>\r\n          )}\r\n\r\n          <button\r\n            onClick={handleSave}\r\n            style={{\r\n              padding: '10px 20px',\r\n              backgroundColor: '#00e5ff',\r\n              color: 'black',\r\n              fontWeight: 'bold',\r\n              border: 'none',\r\n              borderRadius: 6,\r\n              cursor: 'pointer',\r\n              marginBottom: 20,\r\n              userSelect: 'none',\r\n            }}\r\n          >\r\n            保存设置\r\n          </button>\r\n\r\n          <div>\r\n            <h4>预览</h4>\r\n            <div style={{ border: '1px solid #444', borderRadius: 8, padding: 10, backgroundColor: '#111' }}>\r\n              {renderPreview()}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* 面板重置折叠头 */}\r\n      <div \r\n        onClick={() => setPanelResetFolded(!panelResetFolded)} \r\n        style={{\r\n          cursor: 'pointer',\r\n          backgroundColor: '#00e5ff',\r\n          padding: '10px 15px',\r\n          borderRadius: '6px',\r\n          fontWeight: 'bold',\r\n          marginBottom: 10,\r\n          userSelect: 'none',\r\n          display: 'flex',\r\n          alignItems: 'center',\r\n          justifyContent: 'space-between',\r\n        }}\r\n        aria-expanded={!panelResetFolded}\r\n        aria-controls=\"panelResetPanel\"\r\n      >\r\n        <span>面板位置重置 (点击{panelResetFolded ? '展开' : '收起'})</span>\r\n        <span style={{ fontSize: 18 }}>{panelResetFolded ? '+' : '−'}</span>\r\n      </div>\r\n\r\n      {!panelResetFolded && (\r\n        <div id=\"panelResetPanel\" style={{ padding: 10, border: '1px solid #00e5ff', borderRadius: 6 }}>\r\n          {/* 全局模块显示控制保留在App.jsx不重复写，这里只做重置位置 */}\r\n          <button\r\n            onClick={resetAllPanels}\r\n            style={{\r\n              marginBottom: 20,\r\n              padding: '8px 16px',\r\n              backgroundColor: '#00e5ff',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: 4,\r\n              cursor: 'pointer',\r\n              userSelect: 'none',\r\n            }}\r\n          >\r\n            重置所有面板到默认\r\n          </button>\r\n\r\n          <div>\r\n            <h4 style={{ color: 'white' }}>重置单个面板位置</h4>\r\n            {panels.map(({ id, left, top, width, height }) => {\r\n              return (\r\n                <div\r\n                  key={id}\r\n                  style={{\r\n                    display: 'flex',\r\n                    alignItems: 'center',\r\n                    justifyContent: 'space-between',\r\n                    marginBottom: 10,\r\n                    border: '1px solid rgba(136, 136, 136, 0.3)',\r\n                    borderRadius: 4,\r\n                    padding: 10,\r\n                    maxWidth: 400,\r\n                    backgroundColor: 'rgba(0,123,255,0.05)',\r\n                    color: 'white',\r\n                  }}\r\n                >\r\n                  <div>\r\n                    <strong>{id}</strong>\r\n                    <div style={{ fontSize: 12, color: '#bbb' }}>\r\n                      当前：{left},{top}，大小：{width}x{height}\r\n                    </div>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => resetSinglePanel(id)}\r\n                    style={{\r\n                      padding: '4px 10px',\r\n                      borderRadius: 4,\r\n                      border: 'none',\r\n                      backgroundColor: '#28a745',\r\n                      color: 'white',\r\n                      cursor: 'pointer',\r\n                      userSelect: 'none',\r\n                    }}\r\n                  >\r\n                    重置\r\n                  </button>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// CameraPreview 组件用于预览摄像头视频\r\nfunction CameraPreview({ cameraId }) {\r\n  const videoRef = React.useRef(null);\r\n  const [error, setError] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (!cameraId) {\r\n      setError('未选择摄像头');\r\n      return;\r\n    }\r\n    setError(null);\r\n\r\n    let stream;\r\n\r\n    const constraints = {\r\n      video: { deviceId: { exact: cameraId } },\r\n      audio: false,\r\n    };\r\n\r\n    async function startStream() {\r\n      try {\r\n        stream = await navigator.mediaDevices.getUserMedia(constraints);\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = stream;\r\n          await videoRef.current.play();\r\n        }\r\n      } catch (e) {\r\n        setError('无法访问摄像头，可能未授权或设备异常');\r\n      }\r\n    }\r\n    startStream();\r\n\r\n    return () => {\r\n      if (stream) {\r\n        stream.getTracks().forEach(track => track.stop());\r\n      }\r\n      if (videoRef.current) {\r\n        videoRef.current.srcObject = null;\r\n      }\r\n    };\r\n  }, [cameraId]);\r\n\r\n  if (error) {\r\n    return <div style={{ color: 'red' }}>{error}</div>;\r\n  }\r\n\r\n  return (\r\n    <video\r\n      ref={videoRef}\r\n      style={{ width: '100%', maxHeight: 300, borderRadius: 8, backgroundColor: '#000' }}\r\n      muted\r\n      playsInline\r\n      autoPlay\r\n    />\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}