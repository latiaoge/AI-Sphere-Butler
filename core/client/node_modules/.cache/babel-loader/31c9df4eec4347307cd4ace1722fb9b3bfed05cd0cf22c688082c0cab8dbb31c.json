{"ast":null,"code":"var _jsxFileName = \"D:\\\\XM\\\\AI-Sphere-Butler\\\\core\\\\client\\\\src\\\\components\\\\WallpaperManager.jsx\",\n  _s = $RefreshSig$();\n// components/WallpaperManager.jsx\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const menuWallpapers = {\n  home: '/core/client/ai-butler/image/bg-home.jpeg',\n  butler: '/core/client/ai-butler/image/bg-butler.jpeg',\n  car: '/core/client/ai-butler/image/bg-car.jpeg',\n  homeassistant: '/core/client/ai-butler/image/bg-homeassistant.jpeg',\n  ops: '/core/client/ai-butler/image/bg-ops.jpeg',\n  settings: '/core/client/ai-butler/image/bg-settings.jpeg'\n};\nconst WallpaperManager = ({\n  selectedMenu,\n  showGlassTransition\n}) => {\n  _s();\n  const [currentWallpaper, setCurrentWallpaper] = useState(menuWallpapers[selectedMenu] || menuWallpapers.home);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [screenSize, setScreenSize] = useState({\n    width: 0,\n    height: 0\n  });\n\n  // 监听窗口大小变化\n  useEffect(() => {\n    const updateSize = () => {\n      setScreenSize({\n        width: window.innerWidth,\n        height: window.innerHeight\n      });\n    };\n    window.addEventListener('resize', updateSize);\n    updateSize(); // 初始化\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n\n  // 监听菜单变化，更新壁纸\n  useEffect(() => {\n    const targetWallpaper = menuWallpapers[selectedMenu] || menuWallpapers.home;\n    setIsLoading(true);\n    setError(null);\n\n    // 创建图片对象测试加载\n    const img = new Image();\n    img.onload = () => {\n      console.log('壁纸加载成功:', targetWallpaper);\n      setCurrentWallpaper(targetWallpaper);\n      setIsLoading(false);\n    };\n    img.onerror = err => {\n      console.error('壁纸加载失败:', targetWallpaper, err);\n      setError(`图片加载失败: ${targetWallpaper}`);\n      setIsLoading(false);\n    };\n    img.src = targetWallpaper;\n  }, [selectedMenu]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"app-wallpaper\",\n      style: {\n        // 基础定位和尺寸\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        zIndex: -1,\n        // 确保在最底层\n\n        // 调试样式\n        outline: '3px solid red',\n        // 红色边框帮助定位容器\n        backgroundColor: 'rgba(0, 0, 255, 0.3)',\n        // 蓝色半透明背景\n\n        // 壁纸设置\n        backgroundImage: error ? 'none' : `url(${currentWallpaper})`,\n        backgroundSize: 'cover',\n        backgroundPosition: 'center',\n        // 过渡效果\n        opacity: isLoading || error ? 0.3 : 1,\n        transition: 'opacity 0.5s ease-in-out'\n      },\n      \"aria-hidden\": \"true\",\n      children: process.env.NODE_ENV !== 'production' && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          position: 'absolute',\n          top: 10,\n          left: 10,\n          backgroundColor: 'rgba(0,0,0,0.7)',\n          color: 'white',\n          padding: 10,\n          fontSize: 12,\n          zIndex: 1000\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u58C1\\u7EB8\\u8C03\\u8BD5\\u4FE1\\u606F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u5F53\\u524D\\u83DC\\u5355: \", selectedMenu]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u58C1\\u7EB8\\u8DEF\\u5F84: \", currentWallpaper]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u52A0\\u8F7D\\u72B6\\u6001: \", isLoading ? '加载中...' : '已加载']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\u5BB9\\u5668\\u5C3A\\u5BF8: \", screenSize.width, \" x \", screenSize.height]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            color: 'red'\n          },\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), showGlassTransition && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"glass-transition-overlay\",\n      style: {\n        position: 'fixed',\n        top: 0,\n        left: 0,\n        width: '100%',\n        height: '100%',\n        backgroundColor: 'rgba(0, 0, 0, 0.5)',\n        backdropFilter: 'blur(10px)',\n        zIndex: 999,\n        transition: 'opacity 0.4s ease'\n      },\n      \"aria-hidden\": \"true\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(WallpaperManager, \"MimAspI78gdeDBpDE9UambwEVyc=\");\n_c = WallpaperManager;\nexport default WallpaperManager;\nvar _c;\n$RefreshReg$(_c, \"WallpaperManager\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","menuWallpapers","home","butler","car","homeassistant","ops","settings","WallpaperManager","selectedMenu","showGlassTransition","_s","currentWallpaper","setCurrentWallpaper","isLoading","setIsLoading","error","setError","screenSize","setScreenSize","width","height","updateSize","window","innerWidth","innerHeight","addEventListener","removeEventListener","targetWallpaper","img","Image","onload","console","log","onerror","err","src","children","className","style","position","top","left","zIndex","outline","backgroundColor","backgroundImage","backgroundSize","backgroundPosition","opacity","transition","process","env","NODE_ENV","color","padding","fontSize","fileName","_jsxFileName","lineNumber","columnNumber","backdropFilter","_c","$RefreshReg$"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/WallpaperManager.jsx"],"sourcesContent":["// components/WallpaperManager.jsx\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nexport const menuWallpapers = {\r\n  home: '/core/client/ai-butler/image/bg-home.jpeg',\r\n  butler: '/core/client/ai-butler/image/bg-butler.jpeg',\r\n  car: '/core/client/ai-butler/image/bg-car.jpeg',\r\n  homeassistant: '/core/client/ai-butler/image/bg-homeassistant.jpeg',\r\n  ops: '/core/client/ai-butler/image/bg-ops.jpeg',\r\n  settings: '/core/client/ai-butler/image/bg-settings.jpeg',\r\n};\r\n\r\nconst WallpaperManager = ({ selectedMenu, showGlassTransition }) => {\r\n  const [currentWallpaper, setCurrentWallpaper] = useState(menuWallpapers[selectedMenu] || menuWallpapers.home);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [screenSize, setScreenSize] = useState({ width: 0, height: 0 });\r\n\r\n  // 监听窗口大小变化\r\n  useEffect(() => {\r\n    const updateSize = () => {\r\n      setScreenSize({ width: window.innerWidth, height: window.innerHeight });\r\n    };\r\n    window.addEventListener('resize', updateSize);\r\n    updateSize(); // 初始化\r\n    return () => window.removeEventListener('resize', updateSize);\r\n  }, []);\r\n\r\n  // 监听菜单变化，更新壁纸\r\n  useEffect(() => {\r\n    const targetWallpaper = menuWallpapers[selectedMenu] || menuWallpapers.home;\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    // 创建图片对象测试加载\r\n    const img = new Image();\r\n    img.onload = () => {\r\n      console.log('壁纸加载成功:', targetWallpaper);\r\n      setCurrentWallpaper(targetWallpaper);\r\n      setIsLoading(false);\r\n    };\r\n    img.onerror = (err) => {\r\n      console.error('壁纸加载失败:', targetWallpaper, err);\r\n      setError(`图片加载失败: ${targetWallpaper}`);\r\n      setIsLoading(false);\r\n    };\r\n    img.src = targetWallpaper;\r\n  }, [selectedMenu]);\r\n\r\n  return (\r\n    <>\r\n      {/* 壁纸容器 - 使用绝对定位覆盖整个视口 */}\r\n      <div \r\n        className=\"app-wallpaper\"\r\n        style={{\r\n          // 基础定位和尺寸\r\n          position: 'fixed',\r\n          top: 0,\r\n          left: 0,\r\n          width: '100%',\r\n          height: '100%',\r\n          zIndex: -1, // 确保在最底层\r\n          \r\n          // 调试样式\r\n          outline: '3px solid red', // 红色边框帮助定位容器\r\n          backgroundColor: 'rgba(0, 0, 255, 0.3)', // 蓝色半透明背景\r\n          \r\n          // 壁纸设置\r\n          backgroundImage: error ? 'none' : `url(${currentWallpaper})`,\r\n          backgroundSize: 'cover',\r\n          backgroundPosition: 'center',\r\n          \r\n          // 过渡效果\r\n          opacity: isLoading || error ? 0.3 : 1,\r\n          transition: 'opacity 0.5s ease-in-out'\r\n        }}\r\n        aria-hidden=\"true\"\r\n      >\r\n        {/* 调试信息 - 仅开发环境显示 */}\r\n        {process.env.NODE_ENV !== 'production' && (\r\n          <div style={{ \r\n            position: 'absolute', \r\n            top: 10, \r\n            left: 10, \r\n            backgroundColor: 'rgba(0,0,0,0.7)', \r\n            color: 'white', \r\n            padding: 10, \r\n            fontSize: 12,\r\n            zIndex: 1000 \r\n          }}>\r\n            <p>壁纸调试信息</p>\r\n            <p>当前菜单: {selectedMenu}</p>\r\n            <p>壁纸路径: {currentWallpaper}</p>\r\n            <p>加载状态: {isLoading ? '加载中...' : '已加载'}</p>\r\n            <p>容器尺寸: {screenSize.width} x {screenSize.height}</p>\r\n            {error && <p style={{ color: 'red' }}>{error}</p>}\r\n          </div>\r\n        )}\r\n      </div>\r\n      \r\n      {/* 菜单切换动画遮罩 */}\r\n      {showGlassTransition && (\r\n        <div\r\n          className=\"glass-transition-overlay\"\r\n          style={{\r\n            position: 'fixed',\r\n            top: 0,\r\n            left: 0,\r\n            width: '100%',\r\n            height: '100%',\r\n            backgroundColor: 'rgba(0, 0, 0, 0.5)',\r\n            backdropFilter: 'blur(10px)',\r\n            zIndex: 999,\r\n            transition: 'opacity 0.4s ease'\r\n          }}\r\n          aria-hidden=\"true\"\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default WallpaperManager;"],"mappings":";;AAAA;AACA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEnD,OAAO,MAAMC,cAAc,GAAG;EAC5BC,IAAI,EAAE,2CAA2C;EACjDC,MAAM,EAAE,6CAA6C;EACrDC,GAAG,EAAE,0CAA0C;EAC/CC,aAAa,EAAE,oDAAoD;EACnEC,GAAG,EAAE,0CAA0C;EAC/CC,QAAQ,EAAE;AACZ,CAAC;AAED,MAAMC,gBAAgB,GAAGA,CAAC;EAAEC,YAAY;EAAEC;AAAoB,CAAC,KAAK;EAAAC,EAAA;EAClE,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGlB,QAAQ,CAACM,cAAc,CAACQ,YAAY,CAAC,IAAIR,cAAc,CAACC,IAAI,CAAC;EAC7G,MAAM,CAACY,SAAS,EAAEC,YAAY,CAAC,GAAGpB,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACqB,KAAK,EAAEC,QAAQ,CAAC,GAAGtB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACuB,UAAU,EAAEC,aAAa,CAAC,GAAGxB,QAAQ,CAAC;IAAEyB,KAAK,EAAE,CAAC;IAAEC,MAAM,EAAE;EAAE,CAAC,CAAC;;EAErE;EACAzB,SAAS,CAAC,MAAM;IACd,MAAM0B,UAAU,GAAGA,CAAA,KAAM;MACvBH,aAAa,CAAC;QAAEC,KAAK,EAAEG,MAAM,CAACC,UAAU;QAAEH,MAAM,EAAEE,MAAM,CAACE;MAAY,CAAC,CAAC;IACzE,CAAC;IACDF,MAAM,CAACG,gBAAgB,CAAC,QAAQ,EAAEJ,UAAU,CAAC;IAC7CA,UAAU,CAAC,CAAC,CAAC,CAAC;IACd,OAAO,MAAMC,MAAM,CAACI,mBAAmB,CAAC,QAAQ,EAAEL,UAAU,CAAC;EAC/D,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA1B,SAAS,CAAC,MAAM;IACd,MAAMgC,eAAe,GAAG3B,cAAc,CAACQ,YAAY,CAAC,IAAIR,cAAc,CAACC,IAAI;IAC3Ea,YAAY,CAAC,IAAI,CAAC;IAClBE,QAAQ,CAAC,IAAI,CAAC;;IAEd;IACA,MAAMY,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;IACvBD,GAAG,CAACE,MAAM,GAAG,MAAM;MACjBC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEL,eAAe,CAAC;MACvCf,mBAAmB,CAACe,eAAe,CAAC;MACpCb,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;IACDc,GAAG,CAACK,OAAO,GAAIC,GAAG,IAAK;MACrBH,OAAO,CAAChB,KAAK,CAAC,SAAS,EAAEY,eAAe,EAAEO,GAAG,CAAC;MAC9ClB,QAAQ,CAAC,WAAWW,eAAe,EAAE,CAAC;MACtCb,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC;IACDc,GAAG,CAACO,GAAG,GAAGR,eAAe;EAC3B,CAAC,EAAE,CAACnB,YAAY,CAAC,CAAC;EAElB,oBACEX,OAAA,CAAAE,SAAA;IAAAqC,QAAA,gBAEEvC,OAAA;MACEwC,SAAS,EAAC,eAAe;MACzBC,KAAK,EAAE;QACL;QACAC,QAAQ,EAAE,OAAO;QACjBC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE,CAAC;QACPtB,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdsB,MAAM,EAAE,CAAC,CAAC;QAAE;;QAEZ;QACAC,OAAO,EAAE,eAAe;QAAE;QAC1BC,eAAe,EAAE,sBAAsB;QAAE;;QAEzC;QACAC,eAAe,EAAE9B,KAAK,GAAG,MAAM,GAAG,OAAOJ,gBAAgB,GAAG;QAC5DmC,cAAc,EAAE,OAAO;QACvBC,kBAAkB,EAAE,QAAQ;QAE5B;QACAC,OAAO,EAAEnC,SAAS,IAAIE,KAAK,GAAG,GAAG,GAAG,CAAC;QACrCkC,UAAU,EAAE;MACd,CAAE;MACF,eAAY,MAAM;MAAAb,QAAA,EAGjBc,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,YAAY,iBACpCvD,OAAA;QAAKyC,KAAK,EAAE;UACVC,QAAQ,EAAE,UAAU;UACpBC,GAAG,EAAE,EAAE;UACPC,IAAI,EAAE,EAAE;UACRG,eAAe,EAAE,iBAAiB;UAClCS,KAAK,EAAE,OAAO;UACdC,OAAO,EAAE,EAAE;UACXC,QAAQ,EAAE,EAAE;UACZb,MAAM,EAAE;QACV,CAAE;QAAAN,QAAA,gBACAvC,OAAA;UAAAuC,QAAA,EAAG;QAAM;UAAAoB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAG,CAAC,eACb9D,OAAA;UAAAuC,QAAA,GAAG,4BAAM,EAAC5B,YAAY;QAAA;UAAAgD,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3B9D,OAAA;UAAAuC,QAAA,GAAG,4BAAM,EAACzB,gBAAgB;QAAA;UAAA6C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC/B9D,OAAA;UAAAuC,QAAA,GAAG,4BAAM,EAACvB,SAAS,GAAG,QAAQ,GAAG,KAAK;QAAA;UAAA2C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,eAC3C9D,OAAA;UAAAuC,QAAA,GAAG,4BAAM,EAACnB,UAAU,CAACE,KAAK,EAAC,KAAG,EAACF,UAAU,CAACG,MAAM;QAAA;UAAAoC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC,EACpD5C,KAAK,iBAAIlB,OAAA;UAAGyC,KAAK,EAAE;YAAEe,KAAK,EAAE;UAAM,CAAE;UAAAjB,QAAA,EAAErB;QAAK;UAAAyC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAI,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C;IACN;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC,EAGLlD,mBAAmB,iBAClBZ,OAAA;MACEwC,SAAS,EAAC,0BAA0B;MACpCC,KAAK,EAAE;QACLC,QAAQ,EAAE,OAAO;QACjBC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE,CAAC;QACPtB,KAAK,EAAE,MAAM;QACbC,MAAM,EAAE,MAAM;QACdwB,eAAe,EAAE,oBAAoB;QACrCgB,cAAc,EAAE,YAAY;QAC5BlB,MAAM,EAAE,GAAG;QACXO,UAAU,EAAE;MACd,CAAE;MACF,eAAY;IAAM;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACnB,CACF;EAAA,eACD,CAAC;AAEP,CAAC;AAACjD,EAAA,CA5GIH,gBAAgB;AAAAsD,EAAA,GAAhBtD,gBAAgB;AA8GtB,eAAeA,gBAAgB;AAAC,IAAAsD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}