{"ast":null,"code":"var _jsxFileName = \"D:\\\\XM\\\\AI-Sphere-Butler\\\\core\\\\client\\\\src\\\\components\\\\OldWebRTC.jsx\",\n  _s = $RefreshSig$();\n// src/components/OldWebRTC.jsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OldWebRTC() {\n  _s();\n  const videoRef = useRef(null);\n  const audioRef = useRef(null);\n  const pcRef = useRef(null);\n  const [useStun, setUseStun] = useState(false);\n  const [started, setStarted] = useState(false);\n  const [zoomWidth, setZoomWidth] = useState(600);\n\n  // 视频初始宽高\n  const initialWidth = 600;\n  const initialHeight = 450; // 按你代码比例\n\n  // 信令服务器地址（根据你实际后端调整）\n  const SIGNALING_URL = '/offer'; // POST 地址\n\n  // 视频缩放比例\n  const zoomStep = 50;\n\n  // 维护聊天框位置状态\n  // 初始位置从localStorage读取，默认右下角偏移(20, 20)\n  const [chatPos, setChatPos] = useState(() => {\n    try {\n      const saved = localStorage.getItem('chatbox-position');\n      if (saved) {\n        const pos = JSON.parse(saved);\n        if (typeof pos.left === 'number' && typeof pos.top === 'number') {\n          return pos;\n        }\n      }\n    } catch {}\n    // 默认位置\n    return {\n      left: window.innerWidth - 340,\n      top: window.innerHeight - 280\n    };\n  });\n\n  // 拖拽相关状态\n  const draggingRef = useRef(false);\n  const dragOffsetRef = useRef({\n    x: 0,\n    y: 0\n  });\n\n  // 拖拽事件处理\n  function onDragStart(e) {\n    draggingRef.current = true;\n    // 计算鼠标相对于对话框左上角偏移\n    const targetRect = e.currentTarget.getBoundingClientRect();\n    if (e.type === 'touchstart' && e.touches && e.touches[0]) {\n      dragOffsetRef.current = {\n        x: e.touches[0].clientX - targetRect.left,\n        y: e.touches[0].clientY - targetRect.top\n      };\n    } else {\n      dragOffsetRef.current = {\n        x: e.clientX - targetRect.left,\n        y: e.clientY - targetRect.top\n      };\n    }\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  function onDragMove(e) {\n    if (!draggingRef.current) return;\n    let clientX, clientY;\n    if (e.type === 'touchmove' && e.touches && e.touches[0]) {\n      clientX = e.touches[0].clientX;\n      clientY = e.touches[0].clientY;\n    } else if (e.type === 'mousemove') {\n      clientX = e.clientX;\n      clientY = e.clientY;\n    } else {\n      return;\n    }\n    let newLeft = clientX - dragOffsetRef.current.x;\n    let newTop = clientY - dragOffsetRef.current.y;\n\n    // 限制范围，防止拖出可视区\n    const maxLeft = window.innerWidth - 320; // 聊天框宽度预估320px\n    const maxTop = window.innerHeight - 260; // 高度预估260px\n    newLeft = Math.min(Math.max(0, newLeft), maxLeft);\n    newTop = Math.min(Math.max(0, newTop), maxTop);\n    setChatPos({\n      left: newLeft,\n      top: newTop\n    });\n    e.preventDefault();\n    e.stopPropagation();\n  }\n  function onDragEnd(e) {\n    if (draggingRef.current) {\n      draggingRef.current = false;\n      // 保存位置\n      localStorage.setItem('chatbox-position', JSON.stringify(chatPos));\n      e.preventDefault();\n      e.stopPropagation();\n    }\n  }\n\n  // 创建并协商 WebRTC 连接\n  async function negotiate() {\n    const pc = pcRef.current;\n    if (!pc) return;\n    pc.addTransceiver('video', {\n      direction: 'recvonly'\n    });\n    pc.addTransceiver('audio', {\n      direction: 'recvonly'\n    });\n    try {\n      const offer = await pc.createOffer();\n      await pc.setLocalDescription(offer);\n\n      // 等待 ICE gathering 完成\n      await new Promise(resolve => {\n        if (pc.iceGatheringState === 'complete') {\n          resolve();\n        } else {\n          const checkState = () => {\n            if (pc.iceGatheringState === 'complete') {\n              pc.removeEventListener('icegatheringstatechange', checkState);\n              resolve();\n            }\n          };\n          pc.addEventListener('icegatheringstatechange', checkState);\n        }\n      });\n\n      // 发送本地 SDP offer 到服务器，等待答复 SDP answer\n      const response = await fetch(SIGNALING_URL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          sdp: pc.localDescription.sdp,\n          type: pc.localDescription.type\n        })\n      });\n      const answer = await response.json();\n\n      // 设置远端 SDP\n      await pc.setRemoteDescription(answer);\n\n      // 你原来页面有 sessionid 字段，这里不展示，需要的话可以自行扩展\n    } catch (e) {\n      alert('协商失败: ' + e.message);\n    }\n  }\n  function start() {\n    if (started) return;\n    const config = {\n      sdpSemantics: 'unified-plan'\n    };\n    if (useStun) {\n      config.iceServers = [{\n        urls: ['stun:stun.l.google.com:19302']\n      }];\n    }\n    const pc = new RTCPeerConnection(config);\n    pcRef.current = pc;\n\n    // 监听远端 track，绑定到 video/audio 标签\n    pc.addEventListener('track', evt => {\n      if (evt.track.kind === 'video') {\n        if (videoRef.current) {\n          videoRef.current.srcObject = evt.streams[0];\n        }\n      } else if (evt.track.kind === 'audio') {\n        if (audioRef.current) {\n          audioRef.current.srcObject = evt.streams[0];\n        }\n      }\n    });\n    setStarted(true);\n    negotiate();\n\n    // 初始化视频缩放（首次设置）\n    setZoomWidth(initialWidth);\n  }\n  function stop() {\n    if (!started) return;\n    setStarted(false);\n\n    // 注意：根据需求，这里不关闭 pc 连接，不停止流，保持后台推流不中断\n    // 如果你想真正停止，请取消下面注释\n    /*\r\n    setTimeout(() => {\r\n      if (pcRef.current) {\r\n        pcRef.current.close();\r\n        pcRef.current = null;\r\n      }\r\n    }, 500);\r\n      if (videoRef.current && videoRef.current.srcObject) {\r\n      videoRef.current.srcObject.getTracks().forEach((t) => t.stop());\r\n      videoRef.current.srcObject = null;\r\n    }\r\n    if (audioRef.current && audioRef.current.srcObject) {\r\n      audioRef.current.srcObject.getTracks().forEach((t) => t.stop());\r\n      audioRef.current.srcObject = null;\r\n    }\r\n    */\n  }\n\n  // 缩放视频\n  function zoomIn() {\n    setZoomWidth(w => w + zoomStep);\n  }\n  function zoomOut() {\n    setZoomWidth(w => w - zoomStep > 0 ? w - zoomStep : w);\n  }\n\n  // 文本框输入状态\n  const [message, setMessage] = useState('');\n  // 图片文件状态\n  const [imageFile, setImageFile] = useState(null);\n\n  // 发送文本消息函数，发送到 LLM 服务\n  const sendTextMessage = async () => {\n    if (!message.trim()) return;\n    try {\n      const response = await fetch('https://192.168.1.70:6010/qwener', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: message\n        })\n      });\n      if (!response.ok) {\n        throw new Error('网络响应失败，状态码: ' + response.status);\n      }\n      const data = await response.json();\n      console.log('文本发送成功，服务器返回：', data);\n    } catch (error) {\n      console.error('文本发送失败：', error);\n    }\n  };\n\n  // 发送图片+文本消息函数，发送到多模态服务\n  const sendMultiModal = async () => {\n    if (!imageFile) return;\n    try {\n      const reader = new FileReader();\n      reader.onloadend = async () => {\n        const base64data = reader.result;\n        const payload = {\n          text: message.trim(),\n          // 文字\n          image: base64data // 图片 base64\n        };\n        const response = await fetch('https://192.168.1.70:6010/multimodal', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify(payload)\n        });\n        if (!response.ok) {\n          throw new Error('网络响应失败，状态码: ' + response.status);\n        }\n        const data = await response.json();\n        console.log('多模态发送成功，服务器返回：', data);\n        setImageFile(null); // 清空图片\n        setMessage(''); // 清空文本\n      };\n      reader.readAsDataURL(imageFile);\n    } catch (error) {\n      console.error('多模态发送失败：', error);\n    }\n  };\n\n  // 表单提交处理\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (imageFile) {\n      // 有图片时，文本和图片一起发送到多模态服务\n      await sendMultiModal();\n    } else {\n      // 仅文本时，发送到 LLM 服务\n      await sendTextMessage();\n      setMessage(''); // 清空文本\n    }\n  };\n\n  // 选择图片处理\n  const handleImageChange = e => {\n    const file = e.target.files[0];\n    setImageFile(file || null);\n  };\n\n  // 组件挂载时，重新绑定已有远端流到 video/audio 标签，防止切换回来黑屏\n  useEffect(() => {\n    if (pcRef.current && videoRef.current && audioRef.current) {\n      const pc = pcRef.current;\n\n      // 视频流绑定\n      let remoteVideoStream = null;\n      pc.getReceivers().forEach(receiver => {\n        if (receiver.track && receiver.track.kind === 'video') {\n          if (receiver.track.readyState === 'live') {\n            if (receiver.track.streams && receiver.track.streams[0]) {\n              remoteVideoStream = receiver.track.streams[0];\n            }\n          }\n        }\n      });\n      if (remoteVideoStream) {\n        videoRef.current.srcObject = remoteVideoStream;\n      }\n\n      // 音频流绑定\n      let remoteAudioStream = null;\n      pc.getReceivers().forEach(receiver => {\n        if (receiver.track && receiver.track.kind === 'audio') {\n          if (receiver.track.readyState === 'live') {\n            if (receiver.track.streams && receiver.track.streams[0]) {\n              remoteAudioStream = receiver.track.streams[0];\n            }\n          }\n        }\n      });\n      if (remoteAudioStream) {\n        audioRef.current.srcObject = remoteAudioStream;\n      }\n    }\n  }, []); // 仅挂载时执行一次\n\n  // 通用透明背景按钮样式（改成白色文字）\n  const transparentBtnStyle = {\n    backgroundColor: 'transparent',\n    border: '1px solid white',\n    color: 'white',\n    fontWeight: 'bold',\n    padding: '8px 16px',\n    cursor: 'pointer',\n    borderRadius: 4,\n    outline: 'none',\n    transition: 'background-color 0.3s, color 0.3s',\n    fontSize: 14,\n    lineHeight: '1.2'\n  };\n\n  // 禁用按钮样式\n  const disabledBtnStyle = {\n    ...transparentBtnStyle,\n    opacity: 0.4,\n    cursor: 'not-allowed'\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 1280,\n      position: 'relative'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"option\",\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"use-stun\",\n        type: \"checkbox\",\n        checked: useStun,\n        onChange: e => setUseStun(e.target.checked),\n        style: {\n          accentColor: 'white'\n        },\n        disabled: started // 连接启动后禁用切换，避免状态不一致\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"use-stun\",\n        style: {\n          marginLeft: 4,\n          color: 'white'\n        },\n        children: \"Use STUN server\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: zoomIn,\n        style: {\n          ...transparentBtnStyle,\n          marginRight: 8\n        },\n        children: \"Zoom In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: zoomOut,\n        style: transparentBtnStyle,\n        children: \"Zoom Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 378,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 374,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: start,\n      disabled: started,\n      style: started ? disabledBtnStyle : transparentBtnStyle,\n      children: \"Start\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 383,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: stop,\n      disabled: !started,\n      style: !started ? disabledBtnStyle : transparentBtnStyle,\n      children: \"Stop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 390,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"media\",\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          color: 'white'\n        },\n        children: \"\\u7BA1\\u5BB6\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 400,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        ref: audioRef,\n        autoPlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        style: {\n          width: zoomWidth,\n          height: zoomWidth * initialHeight / initialWidth,\n          display: 'block'\n        },\n        autoPlay: true,\n        playsInline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'fixed',\n        left: chatPos.left,\n        top: chatPos.top,\n        width: 320,\n        backgroundColor: 'rgba(20, 20, 20, 0.85)',\n        borderRadius: 8,\n        padding: 12,\n        boxShadow: '0 4px 12px rgba(0,0,0,0.5)',\n        color: 'white',\n        userSelect: 'none',\n        cursor: draggingRef.current ? 'grabbing' : 'grab',\n        zIndex: 9999\n      },\n      onMouseDown: onDragStart,\n      onMouseMove: onDragMove,\n      onMouseUp: onDragEnd,\n      onMouseLeave: onDragEnd,\n      onTouchStart: onDragStart,\n      onTouchMove: onDragMove,\n      onTouchEnd: onDragEnd,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        id: \"echo-form\",\n        onSubmit: handleSubmit,\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          gap: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"message\",\n          style: {\n            fontWeight: 'bold',\n            color: '#ccc'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          id: \"message\",\n          value: message,\n          onChange: e => setMessage(e.target.value),\n          rows: 3,\n          style: {\n            width: '100%',\n            resize: 'vertical',\n            fontSize: 14,\n            padding: 8,\n            borderRadius: 8,\n            border: '1px solid rgba(255, 255, 255, 0.3)',\n            backgroundColor: 'rgba(255 255 255 / 0.1)',\n            // 半透明白色\n            backdropFilter: 'blur(10px)',\n            // 磨砂玻璃效果\n            WebkitBackdropFilter: 'blur(10px)',\n            // Safari 支持\n            color: 'white',\n            fontFamily: 'inherit',\n            outline: 'none',\n            transition: 'border-color 0.3s'\n          },\n          placeholder: \"\\u8BF7\\u8F93\\u5165\\u8981\\u53D1\\u9001\\u7ED9\\u7BA1\\u5BB6\\u6587\\u672C...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 448,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'flex-end',\n            alignItems: 'center',\n            gap: 8\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"image-upload\",\n            style: {\n              ...transparentBtnStyle,\n              display: 'inline-flex',\n              alignItems: 'center',\n              cursor: 'pointer',\n              padding: '6px 12px',\n              userSelect: 'none',\n              fontSize: 14,\n              lineHeight: '1.2'\n            },\n            title: \"\\u4E0A\\u4F20\\u56FE\\u7247\",\n            children: \"\\u4E0A\\u4F20\\u56FE\\u7247\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"image-upload\",\n            type: \"file\",\n            accept: \"image/*\",\n            style: {\n              display: 'none'\n            },\n            onChange: handleImageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            style: {\n              ...transparentBtnStyle,\n              padding: '6px 16px',\n              fontSize: 14,\n              lineHeight: '1.2'\n            },\n            children: \"\\u53D1\\u9001\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 436,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 5\n  }, this);\n}\n_s(OldWebRTC, \"VToLfk2HCySv7X7dpcEl6kCRkXY=\");\n_c = OldWebRTC;\nvar _c;\n$RefreshReg$(_c, \"OldWebRTC\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","OldWebRTC","_s","videoRef","audioRef","pcRef","useStun","setUseStun","started","setStarted","zoomWidth","setZoomWidth","initialWidth","initialHeight","SIGNALING_URL","zoomStep","chatPos","setChatPos","saved","localStorage","getItem","pos","JSON","parse","left","top","window","innerWidth","innerHeight","draggingRef","dragOffsetRef","x","y","onDragStart","e","current","targetRect","currentTarget","getBoundingClientRect","type","touches","clientX","clientY","preventDefault","stopPropagation","onDragMove","newLeft","newTop","maxLeft","maxTop","Math","min","max","onDragEnd","setItem","stringify","negotiate","pc","addTransceiver","direction","offer","createOffer","setLocalDescription","Promise","resolve","iceGatheringState","checkState","removeEventListener","addEventListener","response","fetch","method","headers","body","sdp","localDescription","answer","json","setRemoteDescription","alert","message","start","config","sdpSemantics","iceServers","urls","RTCPeerConnection","evt","track","kind","srcObject","streams","stop","zoomIn","w","zoomOut","setMessage","imageFile","setImageFile","sendTextMessage","trim","text","ok","Error","status","data","console","log","error","sendMultiModal","reader","FileReader","onloadend","base64data","result","payload","image","readAsDataURL","handleSubmit","handleImageChange","file","target","files","remoteVideoStream","getReceivers","forEach","receiver","readyState","remoteAudioStream","transparentBtnStyle","backgroundColor","border","color","fontWeight","padding","cursor","borderRadius","outline","transition","fontSize","lineHeight","disabledBtnStyle","opacity","style","maxWidth","position","children","className","marginBottom","id","checked","onChange","accentColor","disabled","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","marginLeft","onClick","marginRight","marginTop","ref","autoPlay","width","height","display","playsInline","boxShadow","userSelect","zIndex","onMouseDown","onMouseMove","onMouseUp","onMouseLeave","onTouchStart","onTouchMove","onTouchEnd","onSubmit","flexDirection","gap","value","rows","resize","backdropFilter","WebkitBackdropFilter","fontFamily","placeholder","justifyContent","alignItems","title","accept","_c","$RefreshReg$"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/OldWebRTC.jsx"],"sourcesContent":["// src/components/OldWebRTC.jsx\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n\r\nexport default function OldWebRTC() {\r\n  const videoRef = useRef(null);\r\n  const audioRef = useRef(null);\r\n  const pcRef = useRef(null);\r\n\r\n  const [useStun, setUseStun] = useState(false);\r\n  const [started, setStarted] = useState(false);\r\n  const [zoomWidth, setZoomWidth] = useState(600);\r\n\r\n  // 视频初始宽高\r\n  const initialWidth = 600;\r\n  const initialHeight = 450; // 按你代码比例\r\n\r\n  // 信令服务器地址（根据你实际后端调整）\r\n  const SIGNALING_URL = '/offer'; // POST 地址\r\n\r\n  // 视频缩放比例\r\n  const zoomStep = 50;\r\n\r\n  // 维护聊天框位置状态\r\n  // 初始位置从localStorage读取，默认右下角偏移(20, 20)\r\n  const [chatPos, setChatPos] = useState(() => {\r\n    try {\r\n      const saved = localStorage.getItem('chatbox-position');\r\n      if (saved) {\r\n        const pos = JSON.parse(saved);\r\n        if (\r\n          typeof pos.left === 'number' &&\r\n          typeof pos.top === 'number'\r\n        ) {\r\n          return pos;\r\n        }\r\n      }\r\n    } catch {}\r\n    // 默认位置\r\n    return { left: window.innerWidth - 340, top: window.innerHeight - 280 };\r\n  });\r\n\r\n  // 拖拽相关状态\r\n  const draggingRef = useRef(false);\r\n  const dragOffsetRef = useRef({ x: 0, y: 0 });\r\n\r\n  // 拖拽事件处理\r\n  function onDragStart(e) {\r\n    draggingRef.current = true;\r\n    // 计算鼠标相对于对话框左上角偏移\r\n    const targetRect = e.currentTarget.getBoundingClientRect();\r\n    if (e.type === 'touchstart' && e.touches && e.touches[0]) {\r\n      dragOffsetRef.current = {\r\n        x: e.touches[0].clientX - targetRect.left,\r\n        y: e.touches[0].clientY - targetRect.top,\r\n      };\r\n    } else {\r\n      dragOffsetRef.current = {\r\n        x: e.clientX - targetRect.left,\r\n        y: e.clientY - targetRect.top,\r\n      };\r\n    }\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n\r\n  function onDragMove(e) {\r\n    if (!draggingRef.current) return;\r\n\r\n    let clientX, clientY;\r\n    if (e.type === 'touchmove' && e.touches && e.touches[0]) {\r\n      clientX = e.touches[0].clientX;\r\n      clientY = e.touches[0].clientY;\r\n    } else if (e.type === 'mousemove') {\r\n      clientX = e.clientX;\r\n      clientY = e.clientY;\r\n    } else {\r\n      return;\r\n    }\r\n\r\n    let newLeft = clientX - dragOffsetRef.current.x;\r\n    let newTop = clientY - dragOffsetRef.current.y;\r\n\r\n    // 限制范围，防止拖出可视区\r\n    const maxLeft = window.innerWidth - 320; // 聊天框宽度预估320px\r\n    const maxTop = window.innerHeight - 260; // 高度预估260px\r\n    newLeft = Math.min(Math.max(0, newLeft), maxLeft);\r\n    newTop = Math.min(Math.max(0, newTop), maxTop);\r\n\r\n    setChatPos({ left: newLeft, top: newTop });\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n  }\r\n\r\n  function onDragEnd(e) {\r\n    if (draggingRef.current) {\r\n      draggingRef.current = false;\r\n      // 保存位置\r\n      localStorage.setItem('chatbox-position', JSON.stringify(chatPos));\r\n      e.preventDefault();\r\n      e.stopPropagation();\r\n    }\r\n  }\r\n\r\n  // 创建并协商 WebRTC 连接\r\n  async function negotiate() {\r\n    const pc = pcRef.current;\r\n    if (!pc) return;\r\n\r\n    pc.addTransceiver('video', { direction: 'recvonly' });\r\n    pc.addTransceiver('audio', { direction: 'recvonly' });\r\n\r\n    try {\r\n      const offer = await pc.createOffer();\r\n      await pc.setLocalDescription(offer);\r\n\r\n      // 等待 ICE gathering 完成\r\n      await new Promise((resolve) => {\r\n        if (pc.iceGatheringState === 'complete') {\r\n          resolve();\r\n        } else {\r\n          const checkState = () => {\r\n            if (pc.iceGatheringState === 'complete') {\r\n              pc.removeEventListener('icegatheringstatechange', checkState);\r\n              resolve();\r\n            }\r\n          };\r\n          pc.addEventListener('icegatheringstatechange', checkState);\r\n        }\r\n      });\r\n\r\n      // 发送本地 SDP offer 到服务器，等待答复 SDP answer\r\n      const response = await fetch(SIGNALING_URL, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          sdp: pc.localDescription.sdp,\r\n          type: pc.localDescription.type,\r\n        }),\r\n      });\r\n      const answer = await response.json();\r\n\r\n      // 设置远端 SDP\r\n      await pc.setRemoteDescription(answer);\r\n\r\n      // 你原来页面有 sessionid 字段，这里不展示，需要的话可以自行扩展\r\n    } catch (e) {\r\n      alert('协商失败: ' + e.message);\r\n    }\r\n  }\r\n\r\n  function start() {\r\n    if (started) return;\r\n\r\n    const config = { sdpSemantics: 'unified-plan' };\r\n    if (useStun) {\r\n      config.iceServers = [{ urls: ['stun:stun.l.google.com:19302'] }];\r\n    }\r\n\r\n    const pc = new RTCPeerConnection(config);\r\n    pcRef.current = pc;\r\n\r\n    // 监听远端 track，绑定到 video/audio 标签\r\n    pc.addEventListener('track', (evt) => {\r\n      if (evt.track.kind === 'video') {\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = evt.streams[0];\r\n        }\r\n      } else if (evt.track.kind === 'audio') {\r\n        if (audioRef.current) {\r\n          audioRef.current.srcObject = evt.streams[0];\r\n        }\r\n      }\r\n    });\r\n\r\n    setStarted(true);\r\n\r\n    negotiate();\r\n\r\n    // 初始化视频缩放（首次设置）\r\n    setZoomWidth(initialWidth);\r\n  }\r\n\r\n  function stop() {\r\n    if (!started) return;\r\n\r\n    setStarted(false);\r\n\r\n    // 注意：根据需求，这里不关闭 pc 连接，不停止流，保持后台推流不中断\r\n    // 如果你想真正停止，请取消下面注释\r\n    /*\r\n    setTimeout(() => {\r\n      if (pcRef.current) {\r\n        pcRef.current.close();\r\n        pcRef.current = null;\r\n      }\r\n    }, 500);\r\n\r\n    if (videoRef.current && videoRef.current.srcObject) {\r\n      videoRef.current.srcObject.getTracks().forEach((t) => t.stop());\r\n      videoRef.current.srcObject = null;\r\n    }\r\n    if (audioRef.current && audioRef.current.srcObject) {\r\n      audioRef.current.srcObject.getTracks().forEach((t) => t.stop());\r\n      audioRef.current.srcObject = null;\r\n    }\r\n    */\r\n  }\r\n\r\n  // 缩放视频\r\n  function zoomIn() {\r\n    setZoomWidth((w) => w + zoomStep);\r\n  }\r\n  function zoomOut() {\r\n    setZoomWidth((w) => (w - zoomStep > 0 ? w - zoomStep : w));\r\n  }\r\n\r\n  // 文本框输入状态\r\n  const [message, setMessage] = useState('');\r\n  // 图片文件状态\r\n  const [imageFile, setImageFile] = useState(null);\r\n\r\n  // 发送文本消息函数，发送到 LLM 服务\r\n  const sendTextMessage = async () => {\r\n    if (!message.trim()) return;\r\n\r\n    try {\r\n      const response = await fetch('https://192.168.1.70:6010/qwener', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ text: message }),\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error('网络响应失败，状态码: ' + response.status);\r\n      }\r\n      const data = await response.json();\r\n      console.log('文本发送成功，服务器返回：', data);\r\n    } catch (error) {\r\n      console.error('文本发送失败：', error);\r\n    }\r\n  };\r\n\r\n  // 发送图片+文本消息函数，发送到多模态服务\r\n  const sendMultiModal = async () => {\r\n    if (!imageFile) return;\r\n\r\n    try {\r\n      const reader = new FileReader();\r\n      reader.onloadend = async () => {\r\n        const base64data = reader.result;\r\n\r\n        const payload = {\r\n          text: message.trim(), // 文字\r\n          image: base64data,     // 图片 base64\r\n        };\r\n\r\n        const response = await fetch('https://192.168.1.70:6010/multimodal', {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          body: JSON.stringify(payload),\r\n        });\r\n        if (!response.ok) {\r\n          throw new Error('网络响应失败，状态码: ' + response.status);\r\n        }\r\n        const data = await response.json();\r\n        console.log('多模态发送成功，服务器返回：', data);\r\n        setImageFile(null); // 清空图片\r\n        setMessage(''); // 清空文本\r\n      };\r\n      reader.readAsDataURL(imageFile);\r\n    } catch (error) {\r\n      console.error('多模态发送失败：', error);\r\n    }\r\n  };\r\n\r\n  // 表单提交处理\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (imageFile) {\r\n      // 有图片时，文本和图片一起发送到多模态服务\r\n      await sendMultiModal();\r\n    } else {\r\n      // 仅文本时，发送到 LLM 服务\r\n      await sendTextMessage();\r\n      setMessage(''); // 清空文本\r\n    }\r\n  };\r\n\r\n  // 选择图片处理\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setImageFile(file || null);\r\n  };\r\n\r\n  // 组件挂载时，重新绑定已有远端流到 video/audio 标签，防止切换回来黑屏\r\n  useEffect(() => {\r\n    if (pcRef.current && videoRef.current && audioRef.current) {\r\n      const pc = pcRef.current;\r\n\r\n      // 视频流绑定\r\n      let remoteVideoStream = null;\r\n      pc.getReceivers().forEach((receiver) => {\r\n        if (receiver.track && receiver.track.kind === 'video') {\r\n          if (receiver.track.readyState === 'live') {\r\n            if (receiver.track.streams && receiver.track.streams[0]) {\r\n              remoteVideoStream = receiver.track.streams[0];\r\n            }\r\n          }\r\n        }\r\n      });\r\n      if (remoteVideoStream) {\r\n        videoRef.current.srcObject = remoteVideoStream;\r\n      }\r\n\r\n      // 音频流绑定\r\n      let remoteAudioStream = null;\r\n      pc.getReceivers().forEach((receiver) => {\r\n        if (receiver.track && receiver.track.kind === 'audio') {\r\n          if (receiver.track.readyState === 'live') {\r\n            if (receiver.track.streams && receiver.track.streams[0]) {\r\n              remoteAudioStream = receiver.track.streams[0];\r\n            }\r\n          }\r\n        }\r\n      });\r\n      if (remoteAudioStream) {\r\n        audioRef.current.srcObject = remoteAudioStream;\r\n      }\r\n    }\r\n  }, []); // 仅挂载时执行一次\r\n\r\n  // 通用透明背景按钮样式（改成白色文字）\r\n  const transparentBtnStyle = {\r\n    backgroundColor: 'transparent',\r\n    border: '1px solid white',\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    padding: '8px 16px',\r\n    cursor: 'pointer',\r\n    borderRadius: 4,\r\n    outline: 'none',\r\n    transition: 'background-color 0.3s, color 0.3s',\r\n    fontSize: 14,\r\n    lineHeight: '1.2',\r\n  };\r\n\r\n  // 禁用按钮样式\r\n  const disabledBtnStyle = {\r\n    ...transparentBtnStyle,\r\n    opacity: 0.4,\r\n    cursor: 'not-allowed',\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 1280, position: 'relative' }}>\r\n      <div className=\"option\" style={{ marginBottom: 8 }}>\r\n        <input\r\n          id=\"use-stun\"\r\n          type=\"checkbox\"\r\n          checked={useStun}\r\n          onChange={(e) => setUseStun(e.target.checked)}\r\n          style={{ accentColor: 'white' }}\r\n          disabled={started} // 连接启动后禁用切换，避免状态不一致\r\n        />\r\n        <label htmlFor=\"use-stun\" style={{ marginLeft: 4, color: 'white' }}>\r\n          Use STUN server\r\n        </label>\r\n      </div>\r\n\r\n      {/* 将 Zoom 按钮放到 Start、Stop 上面 */}\r\n      <div style={{ marginBottom: 8 }}>\r\n        <button onClick={zoomIn} style={{ ...transparentBtnStyle, marginRight: 8 }}>\r\n          Zoom In\r\n        </button>\r\n        <button onClick={zoomOut} style={transparentBtnStyle}>\r\n          Zoom Out\r\n        </button>\r\n      </div>\r\n\r\n      <button\r\n        onClick={start}\r\n        disabled={started}\r\n        style={started ? disabledBtnStyle : transparentBtnStyle}\r\n      >\r\n        Start\r\n      </button>\r\n      <button\r\n        onClick={stop}\r\n        disabled={!started}\r\n        style={!started ? disabledBtnStyle : transparentBtnStyle}\r\n      >\r\n        Stop\r\n      </button>\r\n\r\n      {/* 视频区域 */}\r\n      <div id=\"media\" style={{ marginTop: 20 }}>\r\n        <h2 style={{ color: 'white' }}>管家</h2>\r\n\r\n        <audio ref={audioRef} autoPlay />\r\n        <video\r\n          ref={videoRef}\r\n          style={{ width: zoomWidth, height: (zoomWidth * initialHeight) / initialWidth, display: 'block' }}\r\n          autoPlay\r\n          playsInline\r\n        />\r\n      </div>\r\n\r\n      {/* 可拖拽的聊天对话框容器 */}\r\n      <div\r\n        style={{\r\n          position: 'fixed',\r\n          left: chatPos.left,\r\n          top: chatPos.top,\r\n          width: 320,\r\n          backgroundColor: 'rgba(20, 20, 20, 0.85)',\r\n          borderRadius: 8,\r\n          padding: 12,\r\n          boxShadow: '0 4px 12px rgba(0,0,0,0.5)',\r\n          color: 'white',\r\n          userSelect: 'none',\r\n          cursor: draggingRef.current ? 'grabbing' : 'grab',\r\n          zIndex: 9999,\r\n        }}\r\n        onMouseDown={onDragStart}\r\n        onMouseMove={onDragMove}\r\n        onMouseUp={onDragEnd}\r\n        onMouseLeave={onDragEnd}\r\n        onTouchStart={onDragStart}\r\n        onTouchMove={onDragMove}\r\n        onTouchEnd={onDragEnd}\r\n      >\r\n        {/* 文本发送表单，放在聊天框内 */}\r\n        <form\r\n          id=\"echo-form\"\r\n          onSubmit={handleSubmit}\r\n          style={{\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            gap: 8,\r\n          }}\r\n        >\r\n          <label htmlFor=\"message\" style={{ fontWeight: 'bold', color: '#ccc' }}>\r\n            {/* 可自定义标签内容 */}\r\n          </label>\r\n          <textarea\r\n            id=\"message\"\r\n            value={message}\r\n            onChange={(e) => setMessage(e.target.value)}\r\n            rows={3}\r\n            style={{\r\n              width: '100%',\r\n              resize: 'vertical',\r\n              fontSize: 14,\r\n              padding: 8,\r\n              borderRadius: 8,\r\n              border: '1px solid rgba(255, 255, 255, 0.3)',\r\n              backgroundColor: 'rgba(255 255 255 / 0.1)', // 半透明白色\r\n              backdropFilter: 'blur(10px)', // 磨砂玻璃效果\r\n              WebkitBackdropFilter: 'blur(10px)', // Safari 支持\r\n              color: 'white',\r\n              fontFamily: 'inherit',\r\n              outline: 'none',\r\n              transition: 'border-color 0.3s',\r\n            }}\r\n            placeholder=\"请输入要发送给管家文本...\"\r\n          />\r\n          <div\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'flex-end',\r\n              alignItems: 'center',\r\n              gap: 8,\r\n            }}\r\n          >\r\n            {/* 上传图片按钮 */}\r\n            <label\r\n              htmlFor=\"image-upload\"\r\n              style={{\r\n                ...transparentBtnStyle,\r\n                display: 'inline-flex',\r\n                alignItems: 'center',\r\n                cursor: 'pointer',\r\n                padding: '6px 12px',\r\n                userSelect: 'none',\r\n                fontSize: 14,\r\n                lineHeight: '1.2',\r\n              }}\r\n              title=\"上传图片\"\r\n            >\r\n              上传图片\r\n            </label>\r\n            <input\r\n              id=\"image-upload\"\r\n              type=\"file\"\r\n              accept=\"image/*\"\r\n              style={{ display: 'none' }}\r\n              onChange={handleImageChange}\r\n            />\r\n\r\n            <button\r\n              type=\"submit\"\r\n              style={{\r\n                ...transparentBtnStyle,\r\n                padding: '6px 16px',\r\n                fontSize: 14,\r\n                lineHeight: '1.2',\r\n              }}\r\n            >\r\n              发送\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}