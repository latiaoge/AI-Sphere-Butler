{"ast":null,"code":"var _jsxFileName = \"D:\\\\XM\\\\AI-Sphere-Butler\\\\core\\\\client\\\\src\\\\components\\\\OldWebRTC.jsx\",\n  _s = $RefreshSig$();\n// src/components/OldWebRTC.jsx\nimport React, { useEffect, useRef, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OldWebRTC() {\n  _s();\n  const videoRef = useRef(null);\n  const audioRef = useRef(null);\n  const pcRef = useRef(null);\n  const [useStun, setUseStun] = useState(false);\n  const [started, setStarted] = useState(false);\n  const [zoomWidth, setZoomWidth] = useState(600);\n\n  // 视频初始宽高\n  const initialWidth = 600;\n  const initialHeight = 450; // 按你代码比例\n\n  // 信令服务器地址（根据你实际后端调整）\n  const SIGNALING_URL = '/offer'; // POST 地址\n\n  // 视频缩放比例\n  const zoomStep = 50;\n\n  // 创建并协商 WebRTC 连接\n  async function negotiate() {\n    const pc = pcRef.current;\n    if (!pc) return;\n    pc.addTransceiver('video', {\n      direction: 'recvonly'\n    });\n    pc.addTransceiver('audio', {\n      direction: 'recvonly'\n    });\n    try {\n      const offer = await pc.createOffer();\n      await pc.setLocalDescription(offer);\n\n      // 等待 ICE gathering 完成\n      await new Promise(resolve => {\n        if (pc.iceGatheringState === 'complete') {\n          resolve();\n        } else {\n          const checkState = () => {\n            if (pc.iceGatheringState === 'complete') {\n              pc.removeEventListener('icegatheringstatechange', checkState);\n              resolve();\n            }\n          };\n          pc.addEventListener('icegatheringstatechange', checkState);\n        }\n      });\n\n      // 发送本地 SDP offer 到服务器，等待答复 SDP answer\n      const response = await fetch(SIGNALING_URL, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          sdp: pc.localDescription.sdp,\n          type: pc.localDescription.type\n        })\n      });\n      const answer = await response.json();\n\n      // 设置远端 SDP\n      await pc.setRemoteDescription(answer);\n\n      // 你原来页面有 sessionid 字段，这里不展示，需要的话可以自行扩展\n    } catch (e) {\n      alert('协商失败: ' + e.message);\n    }\n  }\n  function start() {\n    if (started) return;\n    const config = {\n      sdpSemantics: 'unified-plan'\n    };\n    if (useStun) {\n      config.iceServers = [{\n        urls: ['stun:stun.l.google.com:19302']\n      }];\n    }\n    const pc = new RTCPeerConnection(config);\n    pcRef.current = pc;\n\n    // 监听远端 track，绑定到 video/audio 标签\n    pc.addEventListener('track', evt => {\n      if (evt.track.kind === 'video') {\n        if (videoRef.current) {\n          videoRef.current.srcObject = evt.streams[0];\n        }\n      } else if (evt.track.kind === 'audio') {\n        if (audioRef.current) {\n          audioRef.current.srcObject = evt.streams[0];\n        }\n      }\n    });\n    setStarted(true);\n    negotiate();\n\n    // 初始化视频缩放（首次设置）\n    setZoomWidth(initialWidth);\n  }\n  function stop() {\n    if (!started) return;\n    setStarted(false);\n\n    // 延迟关闭 peer connection 避免卡顿\n    setTimeout(() => {\n      if (pcRef.current) {\n        pcRef.current.close();\n        pcRef.current = null;\n      }\n    }, 500);\n\n    // 停止视频音频流\n    if (videoRef.current && videoRef.current.srcObject) {\n      videoRef.current.srcObject.getTracks().forEach(t => t.stop());\n      videoRef.current.srcObject = null;\n    }\n    if (audioRef.current && audioRef.current.srcObject) {\n      audioRef.current.srcObject.getTracks().forEach(t => t.stop());\n      audioRef.current.srcObject = null;\n    }\n  }\n\n  // 缩放视频\n  function zoomIn() {\n    setZoomWidth(w => w + zoomStep);\n  }\n  function zoomOut() {\n    setZoomWidth(w => w - zoomStep > 0 ? w - zoomStep : w);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 1280\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"option\",\n      style: {\n        marginBottom: 8\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"use-stun\",\n        type: \"checkbox\",\n        checked: useStun,\n        onChange: e => setUseStun(e.target.checked)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"use-stun\",\n        style: {\n          marginLeft: 4\n        },\n        children: \"Use STUN server\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: start,\n      disabled: started,\n      style: {\n        padding: '8px 16px',\n        marginRight: 8\n      },\n      children: \"Start\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: stop,\n      disabled: !started,\n      style: {\n        padding: '8px 16px'\n      },\n      children: \"Stop\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"form-inline\",\n      onSubmit: e => {\n        e.preventDefault();\n        // 发送消息给 websocket逻辑你自己实现\n        alert('请实现消息发送逻辑');\n      },\n      style: {\n        marginTop: 12\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        style: {\n          marginBottom: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"input text\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          cols: 2,\n          rows: 3,\n          style: {\n            width: 600,\n            height: 50\n          },\n          className: \"form-control\",\n          id: \"message\",\n          defaultValue: \"test\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"btn btn-default\",\n        style: {\n          padding: '6px 12px'\n        },\n        children: \"Send\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"media\",\n      style: {\n        marginTop: 20\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Media\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        ref: audioRef,\n        autoPlay: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"video\", {\n        ref: videoRef,\n        style: {\n          width: zoomWidth,\n          height: zoomWidth * initialHeight / initialWidth\n        },\n        autoPlay: true,\n        playsInline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: 8\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zoomIn,\n          style: {\n            marginRight: 4\n          },\n          children: \"Zoom In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: zoomOut,\n          children: \"Zoom Out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 135,\n    columnNumber: 5\n  }, this);\n}\n_s(OldWebRTC, \"fJpYeakgBeNUtLYWNHg8MHsmz3k=\");\n_c = OldWebRTC;\nvar _c;\n$RefreshReg$(_c, \"OldWebRTC\");","map":{"version":3,"names":["React","useEffect","useRef","useState","jsxDEV","_jsxDEV","OldWebRTC","_s","videoRef","audioRef","pcRef","useStun","setUseStun","started","setStarted","zoomWidth","setZoomWidth","initialWidth","initialHeight","SIGNALING_URL","zoomStep","negotiate","pc","current","addTransceiver","direction","offer","createOffer","setLocalDescription","Promise","resolve","iceGatheringState","checkState","removeEventListener","addEventListener","response","fetch","method","headers","body","JSON","stringify","sdp","localDescription","type","answer","json","setRemoteDescription","e","alert","message","start","config","sdpSemantics","iceServers","urls","RTCPeerConnection","evt","track","kind","srcObject","streams","stop","setTimeout","close","getTracks","forEach","t","zoomIn","w","zoomOut","style","maxWidth","children","className","marginBottom","id","checked","onChange","target","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","marginLeft","onClick","disabled","padding","marginRight","onSubmit","preventDefault","marginTop","cols","rows","width","height","defaultValue","ref","autoPlay","playsInline","_c","$RefreshReg$"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/OldWebRTC.jsx"],"sourcesContent":["// src/components/OldWebRTC.jsx\r\nimport React, { useEffect, useRef, useState } from 'react';\r\n\r\nexport default function OldWebRTC() {\r\n  const videoRef = useRef(null);\r\n  const audioRef = useRef(null);\r\n  const pcRef = useRef(null);\r\n\r\n  const [useStun, setUseStun] = useState(false);\r\n  const [started, setStarted] = useState(false);\r\n  const [zoomWidth, setZoomWidth] = useState(600);\r\n\r\n  // 视频初始宽高\r\n  const initialWidth = 600;\r\n  const initialHeight = 450; // 按你代码比例\r\n\r\n  // 信令服务器地址（根据你实际后端调整）\r\n  const SIGNALING_URL = '/offer'; // POST 地址\r\n\r\n  // 视频缩放比例\r\n  const zoomStep = 50;\r\n\r\n  // 创建并协商 WebRTC 连接\r\n  async function negotiate() {\r\n    const pc = pcRef.current;\r\n    if (!pc) return;\r\n\r\n    pc.addTransceiver('video', { direction: 'recvonly' });\r\n    pc.addTransceiver('audio', { direction: 'recvonly' });\r\n\r\n    try {\r\n      const offer = await pc.createOffer();\r\n      await pc.setLocalDescription(offer);\r\n\r\n      // 等待 ICE gathering 完成\r\n      await new Promise((resolve) => {\r\n        if (pc.iceGatheringState === 'complete') {\r\n          resolve();\r\n        } else {\r\n          const checkState = () => {\r\n            if (pc.iceGatheringState === 'complete') {\r\n              pc.removeEventListener('icegatheringstatechange', checkState);\r\n              resolve();\r\n            }\r\n          };\r\n          pc.addEventListener('icegatheringstatechange', checkState);\r\n        }\r\n      });\r\n\r\n      // 发送本地 SDP offer 到服务器，等待答复 SDP answer\r\n      const response = await fetch(SIGNALING_URL, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          sdp: pc.localDescription.sdp,\r\n          type: pc.localDescription.type,\r\n        }),\r\n      });\r\n      const answer = await response.json();\r\n\r\n      // 设置远端 SDP\r\n      await pc.setRemoteDescription(answer);\r\n\r\n      // 你原来页面有 sessionid 字段，这里不展示，需要的话可以自行扩展\r\n    } catch (e) {\r\n      alert('协商失败: ' + e.message);\r\n    }\r\n  }\r\n\r\n  function start() {\r\n    if (started) return;\r\n\r\n    const config = { sdpSemantics: 'unified-plan' };\r\n    if (useStun) {\r\n      config.iceServers = [{ urls: ['stun:stun.l.google.com:19302'] }];\r\n    }\r\n\r\n    const pc = new RTCPeerConnection(config);\r\n    pcRef.current = pc;\r\n\r\n    // 监听远端 track，绑定到 video/audio 标签\r\n    pc.addEventListener('track', (evt) => {\r\n      if (evt.track.kind === 'video') {\r\n        if (videoRef.current) {\r\n          videoRef.current.srcObject = evt.streams[0];\r\n        }\r\n      } else if (evt.track.kind === 'audio') {\r\n        if (audioRef.current) {\r\n          audioRef.current.srcObject = evt.streams[0];\r\n        }\r\n      }\r\n    });\r\n\r\n    setStarted(true);\r\n\r\n    negotiate();\r\n\r\n    // 初始化视频缩放（首次设置）\r\n    setZoomWidth(initialWidth);\r\n  }\r\n\r\n  function stop() {\r\n    if (!started) return;\r\n\r\n    setStarted(false);\r\n\r\n    // 延迟关闭 peer connection 避免卡顿\r\n    setTimeout(() => {\r\n      if (pcRef.current) {\r\n        pcRef.current.close();\r\n        pcRef.current = null;\r\n      }\r\n    }, 500);\r\n\r\n    // 停止视频音频流\r\n    if (videoRef.current && videoRef.current.srcObject) {\r\n      videoRef.current.srcObject.getTracks().forEach((t) => t.stop());\r\n      videoRef.current.srcObject = null;\r\n    }\r\n    if (audioRef.current && audioRef.current.srcObject) {\r\n      audioRef.current.srcObject.getTracks().forEach((t) => t.stop());\r\n      audioRef.current.srcObject = null;\r\n    }\r\n  }\r\n\r\n  // 缩放视频\r\n  function zoomIn() {\r\n    setZoomWidth((w) => w + zoomStep);\r\n  }\r\n  function zoomOut() {\r\n    setZoomWidth((w) => (w - zoomStep > 0 ? w - zoomStep : w));\r\n  }\r\n\r\n  return (\r\n    <div style={{ maxWidth: 1280 }}>\r\n      <div className=\"option\" style={{ marginBottom: 8 }}>\r\n        <input\r\n          id=\"use-stun\"\r\n          type=\"checkbox\"\r\n          checked={useStun}\r\n          onChange={(e) => setUseStun(e.target.checked)}\r\n        />\r\n        <label htmlFor=\"use-stun\" style={{ marginLeft: 4 }}>\r\n          Use STUN server\r\n        </label>\r\n      </div>\r\n\r\n      <button onClick={start} disabled={started} style={{ padding: '8px 16px', marginRight: 8 }}>\r\n        Start\r\n      </button>\r\n      <button onClick={stop} disabled={!started} style={{ padding: '8px 16px' }}>\r\n        Stop\r\n      </button>\r\n\r\n      <form\r\n        className=\"form-inline\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          // 发送消息给 websocket逻辑你自己实现\r\n          alert('请实现消息发送逻辑');\r\n        }}\r\n        style={{ marginTop: 12 }}\r\n      >\r\n        <div className=\"form-group\" style={{ marginBottom: 8 }}>\r\n          <p>input text</p>\r\n          <textarea\r\n            cols={2}\r\n            rows={3}\r\n            style={{ width: 600, height: 50 }}\r\n            className=\"form-control\"\r\n            id=\"message\"\r\n            defaultValue=\"test\"\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-default\" style={{ padding: '6px 12px' }}>\r\n          Send\r\n        </button>\r\n      </form>\r\n\r\n      <div id=\"media\" style={{ marginTop: 20 }}>\r\n        <h2>Media</h2>\r\n\r\n        <audio ref={audioRef} autoPlay />\r\n        <video\r\n          ref={videoRef}\r\n          style={{ width: zoomWidth, height: (zoomWidth * initialHeight) / initialWidth }}\r\n          autoPlay\r\n          playsInline\r\n        />\r\n        <div style={{ marginTop: 8 }}>\r\n          <button onClick={zoomIn} style={{ marginRight: 4 }}>\r\n            Zoom In\r\n          </button>\r\n          <button onClick={zoomOut}>Zoom Out</button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}