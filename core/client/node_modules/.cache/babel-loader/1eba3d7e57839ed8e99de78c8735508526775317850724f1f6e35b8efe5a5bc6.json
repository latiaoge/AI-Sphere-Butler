{"ast":null,"code":"var _jsxFileName = \"D:\\\\XM\\\\AI-Sphere-Butler\\\\core\\\\client\\\\src\\\\components\\\\TTSPanel.jsx\",\n  _s = $RefreshSig$();\n// D:\\XM\\AI-Sphere-Butler\\core\\client\\src\\components\\TTSPanel.jsx\nimport React, { useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function TTSPanel() {\n  _s();\n  const [selectedFile, setSelectedFile] = useState(null);\n  const [uploading, setUploading] = useState(false);\n  const [uploadMessage, setUploadMessage] = useState('');\n  const [chatText, setChatText] = useState('');\n  const [chatResponse, setChatResponse] = useState('');\n  const [chatLoading, setChatLoading] = useState(false);\n  const fileInputRef = useRef(null);\n\n  // *** 修改开始：定义一个函数来获取动态配置的 URLs ***\n  const getDynamicUrls = () => {\n    let serverUrls = {};\n    try {\n      const savedUrls = localStorage.getItem('serverUrls');\n      if (savedUrls) {\n        serverUrls = JSON.parse(savedUrls);\n      }\n    } catch (e) {\n      console.error(\"TTSPanel: Failed to parse serverUrls from localStorage\", e);\n    }\n    // 优先使用配置项，如果没有则 fallback 到环境变量或默认值\n    // 注意：这里假设 ServerUrlConfig.jsx 中配置项的键名是 ttsChatApiUrl 和 ttsUploadApiUrl\n    // 如果键名不同，请相应调整\n    const ttsChatApiUrl = serverUrls.ttsChatApiUrl || process.env.REACT_APP_TTS_CHAT_API || 'http://192.168.168.77:6010/say';\n    const ttsUploadApiUrl = serverUrls.ttsUploadApiUrl || process.env.REACT_APP_TTS_UPLOAD_API || 'http://192.168.168.77:6008/api/uploadSpeaker';\n    return {\n      chatApi: ttsChatApiUrl,\n      uploadApi: ttsUploadApiUrl\n    };\n  };\n  // *** 修改结束 ***\n\n  const baseButtonStyle = {\n    borderRadius: '8px',\n    border: '2px solid rgba(255,255,255,0.6)',\n    backgroundColor: 'rgba(255, 255, 255, 0.15)',\n    color: 'white',\n    fontWeight: 'bold',\n    fontSize: 14,\n    padding: '8px 16px',\n    cursor: 'pointer',\n    userSelect: 'none',\n    outline: 'none',\n    transition: 'none',\n    // 关闭所有动画效果，保持静态\n    backdropFilter: 'blur(10px)',\n    WebkitBackdropFilter: 'blur(10px)',\n    boxShadow: '0 4px 20px rgba(255, 255, 255, 0.4)'\n  };\n  const disabledButtonStyle = {\n    ...baseButtonStyle,\n    color: 'rgba(255,255,255,0.4)',\n    borderColor: 'rgba(255,255,255,0.3)',\n    backgroundColor: 'rgba(255,255,255,0.1)',\n    boxShadow: 'none',\n    cursor: 'not-allowed',\n    opacity: 0.5\n  };\n  const handleFileChange = e => {\n    setSelectedFile(e.target.files[0]);\n    setUploadMessage('');\n  };\n  const handleUpload = async () => {\n    if (!selectedFile) {\n      setUploadMessage('请选择一个音频文件');\n      return;\n    }\n    setUploading(true);\n    setUploadMessage('');\n\n    // *** 修改：动态获取 Upload API URL ***\n    const {\n      uploadApi\n    } = getDynamicUrls();\n    try {\n      // const uploadApi = process.env.REACT_APP_TTS_UPLOAD_API || 'http://192.168.168.77:6008/api/uploadSpeaker';\n      const formData = new FormData();\n      formData.append('file', selectedFile);\n      const resp = await fetch(uploadApi, {\n        // 使用动态 URL\n        method: 'POST',\n        body: formData\n      });\n      if (!resp.ok) {\n        throw new Error(`上传失败，状态码: ${resp.status}`);\n      }\n      const data = await resp.json();\n      setUploadMessage(data.message || '上传成功，服务器已接收音频');\n      setSelectedFile(null);\n      if (fileInputRef.current) fileInputRef.current.value = null;\n    } catch (e) {\n      setUploadMessage(`上传失败: ${e.message}`);\n    } finally {\n      setUploading(false);\n    }\n  };\n  const handleSendChat = async () => {\n    if (!chatText.trim()) return;\n    setChatLoading(true);\n    setChatResponse('');\n\n    // *** 修改：动态获取 Chat API URL ***\n    const {\n      chatApi\n    } = getDynamicUrls();\n    try {\n      // const chatApi = process.env.REACT_APP_TTS_CHAT_API || 'http://192.168.168.77:6010/say';\n      const resp = await fetch(chatApi, {\n        // 使用动态 URL\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          text: chatText.trim()\n        })\n      });\n      if (!resp.ok) {\n        throw new Error(`请求失败，状态码: ${resp.status}`);\n      }\n      const data = await resp.json();\n      setChatResponse(data.message || '已发送到合成服务');\n      setChatText('');\n    } catch (e) {\n      setChatResponse(`发送失败: ${e.message}`);\n    } finally {\n      setChatLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        fontSize: 12,\n        color: 'white'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        style: {\n          marginBottom: 20\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u4E0A\\u4F20\\u514B\\u9686\\u53C2\\u8003\\u97F3\\u9891\\uFF08WAV\\u683C\\u5F0F\\uFF09\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          tabIndex: 0,\n          htmlFor: \"file-upload\",\n          className: \"glass-button\",\n          style: {\n            display: 'inline-block',\n            marginBottom: 11,\n            userSelect: 'none',\n            width: 'fit-content',\n            opacity: uploading ? 0.5 : 1,\n            cursor: uploading ? 'not-allowed' : 'pointer',\n            ...baseButtonStyle\n          },\n          children: \"\\u9009\\u62E9\\u6587\\u4EF6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          id: \"file-upload\",\n          type: \"file\",\n          accept: \"audio/*\",\n          onChange: handleFileChange,\n          ref: fileInputRef,\n          style: {\n            display: 'none'\n          },\n          disabled: uploading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"glass-button\",\n            onClick: handleUpload,\n            disabled: uploading || !selectedFile,\n            style: uploading || !selectedFile ? disabledButtonStyle : baseButtonStyle,\n            tabIndex: 0,\n            children: uploading ? '上传中...' : '上传音频'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 166,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }, this), uploadMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8,\n            color: uploadMessage.startsWith('上传成功') ? '#ccffcc' : '#ffcccc',\n            whiteSpace: 'pre-wrap',\n            userSelect: 'text'\n          },\n          children: uploadMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        style: {\n          flexGrow: 1\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"\\u6587\\u672C\\u590D\\u8BFB\\u5408\\u6210\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: chatText,\n          onChange: e => setChatText(e.target.value),\n          placeholder: \"\\u8F93\\u5165\\u8981\\u7BA1\\u5BB6\\u590D\\u8BFB\\u7684\\u6587\\u672C\\uFF0C\\u53D1\\u9001\\u540E\\u5C06\\u5408\\u6210\\u8BED\\u97F3\",\n          rows: 4,\n          style: {\n            width: '100%',\n            resize: 'vertical',\n            padding: 8,\n            borderRadius: 8,\n            border: '1px solid rgba(255,255,255,0.3)',\n            backgroundColor: 'rgba(255, 255, 255, 0.1)',\n            backdropFilter: 'blur(10px)',\n            WebkitBackdropFilter: 'blur(10px)',\n            color: 'white',\n            marginBottom: 8,\n            fontSize: 14,\n            fontFamily: 'inherit',\n            outline: 'none',\n            userSelect: 'text',\n            boxShadow: '0 0 5px rgba(255,255,255,0.5)'\n          },\n          disabled: chatLoading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          className: \"glass-button\",\n          onClick: handleSendChat,\n          disabled: chatLoading || !chatText.trim(),\n          style: chatLoading || !chatText.trim() ? disabledButtonStyle : baseButtonStyle,\n          tabIndex: 0,\n          children: chatLoading ? '发送中...' : '发送文本'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }, this), chatResponse && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 8,\n            color: chatResponse.startsWith('发送失败') ? '#ffcccc' : '#ccffcc',\n            whiteSpace: 'pre-wrap',\n            userSelect: 'text'\n          },\n          children: chatResponse\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n_s(TTSPanel, \"eAbJO6SVvyjuulvRDAa3dtW48EM=\");\n_c = TTSPanel;\nvar _c;\n$RefreshReg$(_c, \"TTSPanel\");","map":{"version":3,"names":["React","useState","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","TTSPanel","_s","selectedFile","setSelectedFile","uploading","setUploading","uploadMessage","setUploadMessage","chatText","setChatText","chatResponse","setChatResponse","chatLoading","setChatLoading","fileInputRef","getDynamicUrls","serverUrls","savedUrls","localStorage","getItem","JSON","parse","e","console","error","ttsChatApiUrl","process","env","REACT_APP_TTS_CHAT_API","ttsUploadApiUrl","REACT_APP_TTS_UPLOAD_API","chatApi","uploadApi","baseButtonStyle","borderRadius","border","backgroundColor","color","fontWeight","fontSize","padding","cursor","userSelect","outline","transition","backdropFilter","WebkitBackdropFilter","boxShadow","disabledButtonStyle","borderColor","opacity","handleFileChange","target","files","handleUpload","formData","FormData","append","resp","fetch","method","body","ok","Error","status","data","json","message","current","value","handleSendChat","trim","headers","stringify","text","children","style","display","flexDirection","height","marginBottom","fileName","_jsxFileName","lineNumber","columnNumber","tabIndex","htmlFor","className","width","id","type","accept","onChange","ref","disabled","onClick","marginTop","startsWith","whiteSpace","flexGrow","placeholder","rows","resize","fontFamily","_c","$RefreshReg$"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/TTSPanel.jsx"],"sourcesContent":["// D:\\XM\\AI-Sphere-Butler\\core\\client\\src\\components\\TTSPanel.jsx\r\nimport React, { useState, useRef } from 'react';\r\n\r\nexport default function TTSPanel() {\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [uploadMessage, setUploadMessage] = useState('');\r\n  const [chatText, setChatText] = useState('');\r\n  const [chatResponse, setChatResponse] = useState('');\r\n  const [chatLoading, setChatLoading] = useState(false);\r\n  const fileInputRef = useRef(null);\r\n\r\n  // *** 修改开始：定义一个函数来获取动态配置的 URLs ***\r\n  const getDynamicUrls = () => {\r\n    let serverUrls = {};\r\n    try {\r\n      const savedUrls = localStorage.getItem('serverUrls');\r\n      if (savedUrls) {\r\n        serverUrls = JSON.parse(savedUrls);\r\n      }\r\n    } catch (e) {\r\n      console.error(\"TTSPanel: Failed to parse serverUrls from localStorage\", e);\r\n    }\r\n    // 优先使用配置项，如果没有则 fallback 到环境变量或默认值\r\n    // 注意：这里假设 ServerUrlConfig.jsx 中配置项的键名是 ttsChatApiUrl 和 ttsUploadApiUrl\r\n    // 如果键名不同，请相应调整\r\n    const ttsChatApiUrl = serverUrls.ttsChatApiUrl || process.env.REACT_APP_TTS_CHAT_API || 'http://192.168.168.77:6010/say';\r\n    const ttsUploadApiUrl = serverUrls.ttsUploadApiUrl || process.env.REACT_APP_TTS_UPLOAD_API || 'http://192.168.168.77:6008/api/uploadSpeaker';\r\n\r\n    return {\r\n      chatApi: ttsChatApiUrl,\r\n      uploadApi: ttsUploadApiUrl\r\n    };\r\n  };\r\n  // *** 修改结束 ***\r\n\r\n  const baseButtonStyle = {\r\n    borderRadius: '8px',\r\n    border: '2px solid rgba(255,255,255,0.6)',\r\n    backgroundColor: 'rgba(255, 255, 255, 0.15)',\r\n    color: 'white',\r\n    fontWeight: 'bold',\r\n    fontSize: 14,\r\n    padding: '8px 16px',\r\n    cursor: 'pointer',\r\n    userSelect: 'none',\r\n    outline: 'none',\r\n    transition: 'none', // 关闭所有动画效果，保持静态\r\n    backdropFilter: 'blur(10px)',\r\n    WebkitBackdropFilter: 'blur(10px)',\r\n    boxShadow: '0 4px 20px rgba(255, 255, 255, 0.4)',\r\n  };\r\n\r\n  const disabledButtonStyle = {\r\n    ...baseButtonStyle,\r\n    color: 'rgba(255,255,255,0.4)',\r\n    borderColor: 'rgba(255,255,255,0.3)',\r\n    backgroundColor: 'rgba(255,255,255,0.1)',\r\n    boxShadow: 'none',\r\n    cursor: 'not-allowed',\r\n    opacity: 0.5,\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    setSelectedFile(e.target.files[0]);\r\n    setUploadMessage('');\r\n  };\r\n\r\n  const handleUpload = async () => {\r\n    if (!selectedFile) {\r\n      setUploadMessage('请选择一个音频文件');\r\n      return;\r\n    }\r\n    setUploading(true);\r\n    setUploadMessage('');\r\n\r\n    // *** 修改：动态获取 Upload API URL ***\r\n    const { uploadApi } = getDynamicUrls();\r\n\r\n    try {\r\n      // const uploadApi = process.env.REACT_APP_TTS_UPLOAD_API || 'http://192.168.168.77:6008/api/uploadSpeaker';\r\n      const formData = new FormData();\r\n      formData.append('file', selectedFile);\r\n\r\n      const resp = await fetch(uploadApi, { // 使用动态 URL\r\n        method: 'POST',\r\n        body: formData,\r\n      });\r\n\r\n      if (!resp.ok) {\r\n        throw new Error(`上传失败，状态码: ${resp.status}`);\r\n      }\r\n\r\n      const data = await resp.json();\r\n      setUploadMessage(data.message || '上传成功，服务器已接收音频');\r\n      setSelectedFile(null);\r\n      if (fileInputRef.current) fileInputRef.current.value = null;\r\n    } catch (e) {\r\n      setUploadMessage(`上传失败: ${e.message}`);\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const handleSendChat = async () => {\r\n    if (!chatText.trim()) return;\r\n    setChatLoading(true);\r\n    setChatResponse('');\r\n\r\n    // *** 修改：动态获取 Chat API URL ***\r\n    const { chatApi } = getDynamicUrls();\r\n\r\n    try {\r\n      // const chatApi = process.env.REACT_APP_TTS_CHAT_API || 'http://192.168.168.77:6010/say';\r\n      const resp = await fetch(chatApi, { // 使用动态 URL\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ text: chatText.trim() }),\r\n      });\r\n      if (!resp.ok) {\r\n        throw new Error(`请求失败，状态码: ${resp.status}`);\r\n      }\r\n      const data = await resp.json();\r\n      setChatResponse(data.message || '已发送到合成服务');\r\n      setChatText('');\r\n    } catch (e) {\r\n      setChatResponse(`发送失败: ${e.message}`);\r\n    } finally {\r\n      setChatLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ display: 'flex', flexDirection: 'column', height: '100%', fontSize: 12, color: 'white' }}>\r\n        <section style={{ marginBottom: 20 }}>\r\n          <h3>上传克隆参考音频（WAV格式）</h3>\r\n\r\n          <label\r\n            tabIndex={0}\r\n            htmlFor=\"file-upload\"\r\n            className=\"glass-button\"\r\n            style={{\r\n              display: 'inline-block',\r\n              marginBottom: 11,\r\n              userSelect: 'none',\r\n              width: 'fit-content',\r\n              opacity: uploading ? 0.5 : 1,\r\n              cursor: uploading ? 'not-allowed' : 'pointer',\r\n              ...baseButtonStyle,\r\n            }}\r\n          >\r\n            选择文件\r\n          </label>\r\n          <input\r\n            id=\"file-upload\"\r\n            type=\"file\"\r\n            accept=\"audio/*\"\r\n            onChange={handleFileChange}\r\n            ref={fileInputRef}\r\n            style={{ display: 'none' }}\r\n            disabled={uploading}\r\n          />\r\n\r\n          <div>\r\n            <button\r\n              type=\"button\"\r\n              className=\"glass-button\"\r\n              onClick={handleUpload}\r\n              disabled={uploading || !selectedFile}\r\n              style={uploading || !selectedFile ? disabledButtonStyle : baseButtonStyle}\r\n              tabIndex={0}\r\n            >\r\n              {uploading ? '上传中...' : '上传音频'}\r\n            </button>\r\n          </div>\r\n\r\n          {uploadMessage && (\r\n            <div\r\n              style={{\r\n                marginTop: 8,\r\n                color: uploadMessage.startsWith('上传成功') ? '#ccffcc' : '#ffcccc',\r\n                whiteSpace: 'pre-wrap',\r\n                userSelect: 'text',\r\n              }}\r\n            >\r\n              {uploadMessage}\r\n            </div>\r\n          )}\r\n        </section>\r\n\r\n        <section style={{ flexGrow: 1 }}>\r\n          <h3>文本复读合成</h3>\r\n          <textarea\r\n            value={chatText}\r\n            onChange={(e) => setChatText(e.target.value)}\r\n            placeholder=\"输入要管家复读的文本，发送后将合成语音\"\r\n            rows={4}\r\n            style={{\r\n              width: '100%',\r\n              resize: 'vertical',\r\n              padding: 8,\r\n              borderRadius: 8,\r\n              border: '1px solid rgba(255,255,255,0.3)',\r\n              backgroundColor: 'rgba(255, 255, 255, 0.1)',\r\n              backdropFilter: 'blur(10px)',\r\n              WebkitBackdropFilter: 'blur(10px)',\r\n              color: 'white',\r\n              marginBottom: 8,\r\n              fontSize: 14,\r\n              fontFamily: 'inherit',\r\n              outline: 'none',\r\n              userSelect: 'text',\r\n              boxShadow: '0 0 5px rgba(255,255,255,0.5)',\r\n            }}\r\n            disabled={chatLoading}\r\n          />\r\n\r\n          <button\r\n            type=\"button\"\r\n            className=\"glass-button\"\r\n            onClick={handleSendChat}\r\n            disabled={chatLoading || !chatText.trim()}\r\n            style={chatLoading || !chatText.trim() ? disabledButtonStyle : baseButtonStyle}\r\n            tabIndex={0}\r\n          >\r\n            {chatLoading ? '发送中...' : '发送文本'}\r\n          </button>\r\n\r\n          {chatResponse && (\r\n            <div\r\n              style={{\r\n                marginTop: 8,\r\n                color: chatResponse.startsWith('发送失败') ? '#ffcccc' : '#ccffcc',\r\n                whiteSpace: 'pre-wrap',\r\n                userSelect: 'text',\r\n              }}\r\n            >\r\n              {chatResponse}\r\n            </div>\r\n          )}\r\n        </section>\r\n      </div>\r\n    </>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}