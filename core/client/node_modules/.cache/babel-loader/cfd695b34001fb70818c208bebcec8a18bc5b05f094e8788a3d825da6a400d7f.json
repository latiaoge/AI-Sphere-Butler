{"ast":null,"code":"import _objectSpread from\"D:/XM/AI-Sphere-Butler/core/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";// ./src/components/ServerUrlConfig.jsx\nimport React,{useState,useEffect}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ServerUrlConfig=()=>{const[urls,setUrls]=useState({// Home Assistant URL\nhomeAssistantUrl:'http://192.168.168.10:8123',// ButlerShowcase.jsx 后端 API 基础 URL\napiBaseUrl:process.env.REACT_APP_BACKEND_URL||'http://localhost:6010',// 当前管家中文件上传基础地址 (OldWebRTC.jsx 配置)\nuploadFileUrl:'http://192.168.168.77:6010',// 当前管家中LLM文本处理 API 地址\nqwenerUrl:'https://192.168.168.77:6010/qwener',// 打断当前语音播放的 API 地址\ninterruptUrl:'http://192.168.168.77:6010/api/interrupt_speaking',// TTSPanel.jsx 专用配置项\nttsChatApiUrl:process.env.REACT_APP_TTS_CHAT_API||'http://192.168.168.77:6010/say',ttsUploadApiUrl:process.env.REACT_APP_TTS_UPLOAD_API||'http://192.168.168.77:6008/api/uploadSpeaker',// 新增 ASR语音识别AudioTranscriber 相关配置项\naudioTranscriberQwenerUrl:'https://192.168.168.77:9010/qwener',audioTranscriberUploadSpeakerUrl:'http://192.168.168.77:6007/api/uploadSpeaker'// Settings.jsx 背景文件上传地址 (如果需要独立配置)\n// uploadBgFileUrl: 'http://192.168.168.77:6010/api/upload_print_file',\n});const[status,setStatus]=useState({message:'',type:''});useEffect(()=>{const savedUrls=localStorage.getItem('serverUrls');if(savedUrls){try{const parsedUrls=JSON.parse(savedUrls);// 合并默认值（包括环境变量）和已保存值\nsetUrls(prevUrls=>_objectSpread(_objectSpread({},prevUrls),parsedUrls));}catch(e){console.error(\"Failed to parse serverUrls from localStorage\",e);setStatus({message:'读取配置失败',type:'error'});setTimeout(()=>setStatus({message:'',type:''}),3000);}}},[]);const saveConfig=e=>{e.preventDefault();try{localStorage.setItem('serverUrls',JSON.stringify(urls));setStatus({message:'配置已保存',type:'success'});// 通知其他组件配置已更新\nwindow.dispatchEvent(new StorageEvent('storage',{key:'serverUrls',newValue:JSON.stringify(urls)}));setTimeout(()=>setStatus({message:'',type:''}),3000);}catch(e){console.error(\"Failed to save serverUrls to localStorage\",e);setStatus({message:'保存失败',type:'error'});setTimeout(()=>setStatus({message:'',type:''}),3000);}};const handleUrlChange=(key,value)=>{setUrls(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));};const styles={container:{padding:'20px',backgroundColor:'rgba(255, 255, 255, 0.05)',borderRadius:'8px',marginBottom:'20px',color:'white'},title:{marginBottom:'15px',fontSize:'1.2em',fontWeight:'bold'},formGroup:{marginBottom:'15px'},label:{display:'block',marginBottom:'5px',fontWeight:'bold'},input:{width:'100%',padding:'8px',borderRadius:'4px',border:'1px solid #ccc',backgroundColor:'rgba(255, 255, 255, 0.1)',color:'white',boxSizing:'border-box'},button:{padding:'10px 20px',backgroundColor:'#1976d2',color:'white',border:'none',borderRadius:'4px',cursor:'pointer',fontWeight:'bold'},buttonHover:{backgroundColor:'#1565c0'},status:{marginTop:'10px',padding:'8px',borderRadius:'4px'},statusSuccess:{backgroundColor:'rgba(76, 175, 80, 0.2)',border:'1px solid #4CAF50',color:'#4CAF50'},statusError:{backgroundColor:'rgba(244, 67, 54, 0.2)',border:'1px solid #F44336',color:'#F44336'},helperText:{fontSize:'0.8em',color:'rgba(255, 255, 255, 0.7)',marginTop:'4px'}};const statusStyle=status.message?_objectSpread(_objectSpread({},styles.status),status.type==='success'?styles.statusSuccess:styles.statusError):{display:'none'};return/*#__PURE__*/_jsxs(\"div\",{style:styles.container,children:[/*#__PURE__*/_jsx(\"div\",{style:styles.title,children:\"\\u670D\\u52A1\\u5730\\u5740\\u8BBE\\u7F6E\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:saveConfig,children:[/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"Home Assistant \\u5730\\u5740:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.homeAssistantUrl,onChange:e=>handleUrlChange('homeAssistantUrl',e.target.value),placeholder:\"http://192.168.168.10:8123\",style:styles.input})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"\\u7BA1\\u5BB6\\u540E\\u7AEF API \\u5730\\u5740:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.apiBaseUrl,onChange:e=>handleUrlChange('apiBaseUrl',e.target.value),placeholder:process.env.REACT_APP_BACKEND_URL||\"http://localhost:6010\",style:styles.input}),/*#__PURE__*/_jsx(\"div\",{style:styles.helperText,children:\"\\u7528\\u4E8E\\u7BA1\\u5BB6\\u5F62\\u8C61\\u7BA1\\u7406\\u3001\\u5207\\u6362\\u7B49 API \\u63A5\\u53E3\\u7684\\u57FA\\u7840 URL\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"\\u5F53\\u524D\\u7BA1\\u5BB6\\u4E2D \\u6587\\u4EF6\\u4E0A\\u4F20\\u57FA\\u7840\\u5730\\u5740:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.uploadFileUrl,onChange:e=>handleUrlChange('uploadFileUrl',e.target.value),placeholder:\"http://192.168.168.77:6010\",style:styles.input}),/*#__PURE__*/_jsx(\"div\",{style:styles.helperText,children:\"\\u7528\\u4E8E \\u5F53\\u524D\\u7BA1\\u5BB6\\u4E2D \\u7EC4\\u4EF6\\uFF08\\u5982\\u804A\\u5929\\u6587\\u4EF6\\u4E0A\\u4F20\\uFF09\\u7684\\u57FA\\u7840\\u670D\\u52A1\\u5668\\u5730\\u5740\\u3002\\u5B8C\\u6574\\u8DEF\\u5F84\\u5C06\\u7531\\u7EC4\\u4EF6\\u5185\\u90E8\\u62FC\\u63A5\\uFF08\\u4F8B\\u5982 /api/upload_print_file\\uFF09\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"\\u5F53\\u524D\\u7BA1\\u5BB6\\u4E2DLLM\\u6587\\u672C\\u5904\\u7406 API \\u5730\\u5740:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.qwenerUrl,onChange:e=>handleUrlChange('qwenerUrl',e.target.value),placeholder:\"https://192.168.168.77:6010/qwener\",style:styles.input}),/*#__PURE__*/_jsx(\"div\",{style:styles.helperText,children:\"\\u7528\\u4E8E\\u5F53\\u524D\\u7BA1\\u5BB6\\u4E2D \\u7EC4\\u4EF6\\u4E2D\\u53D1\\u9001\\u6587\\u672C\\u6D88\\u606F\\u7ED9 LLM \\u8FDB\\u884C\\u5904\\u7406\\u7684 API \\u7AEF\\u70B9\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"\\u6253\\u65AD\\u8BED\\u97F3\\u64AD\\u653E API \\u5730\\u5740:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.interruptUrl,onChange:e=>handleUrlChange('interruptUrl',e.target.value),placeholder:\"http://192.168.168.77:6010/api/interrupt_speaking\",style:styles.input}),/*#__PURE__*/_jsx(\"div\",{style:styles.helperText,children:\"\\u7528\\u4E8E WebRTC \\u7EC4\\u4EF6\\u4E2D\\u53D1\\u9001\\u8BF7\\u6C42\\u4EE5\\u6253\\u65AD\\u5F53\\u524D\\u6B63\\u5728\\u8FDB\\u884C\\u7684\\u8BED\\u97F3\\u64AD\\u653E\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"TTS \\u8BED\\u97F3\\u5408\\u6210\\u6587\\u672C\\u5408\\u6210 API \\u5730\\u5740:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.ttsChatApiUrl,onChange:e=>handleUrlChange('ttsChatApiUrl',e.target.value),placeholder:process.env.REACT_APP_TTS_CHAT_API||\"http://192.168.168.77:6010/say\",style:styles.input}),/*#__PURE__*/_jsx(\"div\",{style:styles.helperText,children:\"\\u7528\\u4E8E TTS \\u8BED\\u97F3\\u5408\\u6210\\u9762\\u677F\\u53D1\\u9001\\u6587\\u672C\\u8FDB\\u884C\\u8BED\\u97F3\\u5408\\u6210\\u7684 API \\u7AEF\\u70B9\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"TTS\\u8BED\\u97F3\\u5408\\u6210 \\u97F3\\u8272\\u514B\\u9686\\u4E0A\\u4F20 API \\u5730\\u5740:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.ttsUploadApiUrl,onChange:e=>handleUrlChange('ttsUploadApiUrl',e.target.value),placeholder:process.env.REACT_APP_TTS_UPLOAD_API||\"http://192.168.168.77:6008/api/uploadSpeaker\",style:styles.input}),/*#__PURE__*/_jsx(\"div\",{style:styles.helperText,children:\"\\u7528\\u4E8E TTS\\u8BED\\u97F3\\u5408\\u6210 \\u9762\\u677F\\u4E0A\\u4F20\\u53C2\\u8003\\u97F3\\u9891\\u4EE5\\u514B\\u9686\\u97F3\\u8272\\u7684 API \\u7AEF\\u70B9\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"ASR\\u8BED\\u97F3\\u8BC6\\u522B LLM URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.audioTranscriberQwenerUrl||'',onChange:e=>handleUrlChange('audioTranscriberQwenerUrl',e.target.value),placeholder:\"https://192.168.168.77:9010/qwener\",style:styles.input}),/*#__PURE__*/_jsx(\"div\",{style:styles.helperText,children:\"ASR\\u8BED\\u97F3\\u8BC6\\u522B \\u7EC4\\u4EF6\\u7528\\u6765\\u53D1\\u9001\\u6587\\u672C\\u6D88\\u606F\\u7684 LLM API \\u7AEF\\u70B9\\u3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{style:styles.formGroup,children:[/*#__PURE__*/_jsx(\"label\",{style:styles.label,children:\"ASR\\u8BED\\u97F3\\u8BC6\\u522B \\u4E0A\\u4F20\\u58F0\\u7EB9 API URL:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:urls.audioTranscriberUploadSpeakerUrl||'',onChange:e=>handleUrlChange('audioTranscriberUploadSpeakerUrl',e.target.value),placeholder:\"http://192.168.168.77:6007/api/uploadSpeaker\",style:styles.input}),/*#__PURE__*/_jsx(\"div\",{style:styles.helperText,children:\"ASR\\u8BED\\u97F3\\u8BC6\\u522B \\u7EC4\\u4EF6\\u4E0A\\u4F20\\u58F0\\u7EB9\\u97F3\\u9891\\u7684\\u670D\\u52A1\\u5668\\u7AEF\\u70B9\\u5730\\u5740\\u3002\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.button,onMouseEnter:e=>e.target.style.backgroundColor=styles.buttonHover.backgroundColor,onMouseLeave:e=>e.target.style.backgroundColor=styles.button.backgroundColor,children:\"\\u4FDD\\u5B58\\u914D\\u7F6E\"})]}),/*#__PURE__*/_jsx(\"div\",{style:statusStyle,children:status.message})]});};export default ServerUrlConfig;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","ServerUrlConfig","urls","setUrls","homeAssistantUrl","apiBaseUrl","process","env","REACT_APP_BACKEND_URL","uploadFileUrl","qwenerUrl","interruptUrl","ttsChatApiUrl","REACT_APP_TTS_CHAT_API","ttsUploadApiUrl","REACT_APP_TTS_UPLOAD_API","audioTranscriberQwenerUrl","audioTranscriberUploadSpeakerUrl","status","setStatus","message","type","savedUrls","localStorage","getItem","parsedUrls","JSON","parse","prevUrls","_objectSpread","e","console","error","setTimeout","saveConfig","preventDefault","setItem","stringify","window","dispatchEvent","StorageEvent","key","newValue","handleUrlChange","value","prev","styles","container","padding","backgroundColor","borderRadius","marginBottom","color","title","fontSize","fontWeight","formGroup","label","display","input","width","border","boxSizing","button","cursor","buttonHover","marginTop","statusSuccess","statusError","helperText","statusStyle","style","children","onSubmit","onChange","target","placeholder","onMouseEnter","onMouseLeave"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/ServerUrlConfig.jsx"],"sourcesContent":["// ./src/components/ServerUrlConfig.jsx\r\nimport React, { useState, useEffect } from 'react';\r\n\r\nconst ServerUrlConfig = () => {\r\n  const [urls, setUrls] = useState({\r\n    // Home Assistant URL\r\n    homeAssistantUrl: 'http://192.168.168.10:8123',\r\n    \r\n    // ButlerShowcase.jsx 后端 API 基础 URL\r\n    apiBaseUrl: process.env.REACT_APP_BACKEND_URL || 'http://localhost:6010',\r\n    \r\n    // 当前管家中文件上传基础地址 (OldWebRTC.jsx 配置)\r\n    uploadFileUrl: 'http://192.168.168.77:6010',\r\n    \r\n    // 当前管家中LLM文本处理 API 地址\r\n    qwenerUrl: 'https://192.168.168.77:6010/qwener',\r\n    \r\n    // 打断当前语音播放的 API 地址\r\n    interruptUrl: 'http://192.168.168.77:6010/api/interrupt_speaking',\r\n\r\n    // TTSPanel.jsx 专用配置项\r\n    ttsChatApiUrl: process.env.REACT_APP_TTS_CHAT_API || 'http://192.168.168.77:6010/say',\r\n    ttsUploadApiUrl: process.env.REACT_APP_TTS_UPLOAD_API || 'http://192.168.168.77:6008/api/uploadSpeaker',\r\n\r\n    // 新增 ASR语音识别AudioTranscriber 相关配置项\r\n    audioTranscriberQwenerUrl: 'https://192.168.168.77:9010/qwener',\r\n    audioTranscriberUploadSpeakerUrl: 'http://192.168.168.77:6007/api/uploadSpeaker',\r\n\r\n    // Settings.jsx 背景文件上传地址 (如果需要独立配置)\r\n    // uploadBgFileUrl: 'http://192.168.168.77:6010/api/upload_print_file',\r\n  });\r\n\r\n  const [status, setStatus] = useState({ message: '', type: '' });\r\n\r\n  useEffect(() => {\r\n    const savedUrls = localStorage.getItem('serverUrls');\r\n    if (savedUrls) {\r\n      try {\r\n        const parsedUrls = JSON.parse(savedUrls);\r\n        // 合并默认值（包括环境变量）和已保存值\r\n        setUrls(prevUrls => ({ ...prevUrls, ...parsedUrls }));\r\n      } catch (e) {\r\n        console.error(\"Failed to parse serverUrls from localStorage\", e);\r\n        setStatus({ message: '读取配置失败', type: 'error' });\r\n        setTimeout(() => setStatus({ message: '', type: '' }), 3000);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const saveConfig = (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      localStorage.setItem('serverUrls', JSON.stringify(urls));\r\n      setStatus({ message: '配置已保存', type: 'success' });\r\n\r\n      // 通知其他组件配置已更新\r\n      window.dispatchEvent(new StorageEvent('storage', {\r\n        key: 'serverUrls',\r\n        newValue: JSON.stringify(urls)\r\n      }));\r\n\r\n      setTimeout(() => setStatus({ message: '', type: '' }), 3000);\r\n    } catch (e) {\r\n      console.error(\"Failed to save serverUrls to localStorage\", e);\r\n      setStatus({ message: '保存失败', type: 'error' });\r\n      setTimeout(() => setStatus({ message: '', type: '' }), 3000);\r\n    }\r\n  };\r\n\r\n  const handleUrlChange = (key, value) => {\r\n    setUrls(prev => ({\r\n      ...prev,\r\n      [key]: value\r\n    }));\r\n  };\r\n\r\n  const styles = {\r\n    container: {\r\n      padding: '20px',\r\n      backgroundColor: 'rgba(255, 255, 255, 0.05)',\r\n      borderRadius: '8px',\r\n      marginBottom: '20px',\r\n      color: 'white',\r\n    },\r\n    title: {\r\n      marginBottom: '15px',\r\n      fontSize: '1.2em',\r\n      fontWeight: 'bold',\r\n    },\r\n    formGroup: {\r\n      marginBottom: '15px',\r\n    },\r\n    label: {\r\n      display: 'block',\r\n      marginBottom: '5px',\r\n      fontWeight: 'bold',\r\n    },\r\n    input: {\r\n      width: '100%',\r\n      padding: '8px',\r\n      borderRadius: '4px',\r\n      border: '1px solid #ccc',\r\n      backgroundColor: 'rgba(255, 255, 255, 0.1)',\r\n      color: 'white',\r\n      boxSizing: 'border-box',\r\n    },\r\n    button: {\r\n      padding: '10px 20px',\r\n      backgroundColor: '#1976d2',\r\n      color: 'white',\r\n      border: 'none',\r\n      borderRadius: '4px',\r\n      cursor: 'pointer',\r\n      fontWeight: 'bold',\r\n    },\r\n    buttonHover: {\r\n      backgroundColor: '#1565c0',\r\n    },\r\n    status: {\r\n      marginTop: '10px',\r\n      padding: '8px',\r\n      borderRadius: '4px',\r\n    },\r\n    statusSuccess: {\r\n      backgroundColor: 'rgba(76, 175, 80, 0.2)',\r\n      border: '1px solid #4CAF50',\r\n      color: '#4CAF50',\r\n    },\r\n    statusError: {\r\n      backgroundColor: 'rgba(244, 67, 54, 0.2)',\r\n      border: '1px solid #F44336',\r\n      color: '#F44336',\r\n    },\r\n    helperText: {\r\n      fontSize: '0.8em',\r\n      color: 'rgba(255, 255, 255, 0.7)',\r\n      marginTop: '4px',\r\n    }\r\n  };\r\n\r\n  const statusStyle = status.message\r\n    ? {\r\n        ...styles.status,\r\n        ...(status.type === 'success' ? styles.statusSuccess : styles.statusError),\r\n      }\r\n    : { display: 'none' };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.title}>服务地址设置</div>\r\n      <form onSubmit={saveConfig}>\r\n        {/* Home Assistant 地址 */}\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>Home Assistant 地址:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.homeAssistantUrl}\r\n            onChange={(e) => handleUrlChange('homeAssistantUrl', e.target.value)}\r\n            placeholder=\"http://192.168.168.10:8123\"\r\n            style={styles.input}\r\n          />\r\n        </div>\r\n\r\n        {/* ButlerShowcase.jsx 后端 API 基础 URL */}\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>管家后端 API 地址:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.apiBaseUrl}\r\n            onChange={(e) => handleUrlChange('apiBaseUrl', e.target.value)}\r\n            placeholder={process.env.REACT_APP_BACKEND_URL || \"http://localhost:6010\"}\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n            用于管家形象管理、切换等 API 接口的基础 URL。\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- 当前管家中OldWebRTC.jsx 配置项开始 --- */}\r\n\r\n        {/* 文件上传基础地址 */}\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>当前管家中 文件上传基础地址:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.uploadFileUrl}\r\n            onChange={(e) => handleUrlChange('uploadFileUrl', e.target.value)}\r\n            placeholder=\"http://192.168.168.77:6010\"\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n            用于 当前管家中 组件（如聊天文件上传）的基础服务器地址。完整路径将由组件内部拼接（例如 /api/upload_print_file）。\r\n          </div>\r\n        </div>\r\n\r\n        {/*  WebRTC Qwen API 地址 */}\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>当前管家中LLM文本处理 API 地址:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.qwenerUrl}\r\n            onChange={(e) => handleUrlChange('qwenerUrl', e.target.value)}\r\n            placeholder=\"https://192.168.168.77:6010/qwener\"\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n            用于当前管家中 组件中发送文本消息给 LLM 进行处理的 API 端点。\r\n          </div>\r\n        </div>\r\n\r\n        {/* 打断说话 API 地址 */}\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>打断语音播放 API 地址:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.interruptUrl}\r\n            onChange={(e) => handleUrlChange('interruptUrl', e.target.value)}\r\n            placeholder=\"http://192.168.168.77:6010/api/interrupt_speaking\"\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n            用于 WebRTC 组件中发送请求以打断当前正在进行的语音播放。\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- OldWebRTC.jsx 配置项结束 --- */}\r\n\r\n        {/* --- TTSPanel.jsx 配置项开始 --- */}\r\n\r\n        {/* TTS 语音合成文本合成 API 地址 */}\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>TTS 语音合成文本合成 API 地址:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.ttsChatApiUrl}\r\n            onChange={(e) => handleUrlChange('ttsChatApiUrl', e.target.value)}\r\n            placeholder={process.env.REACT_APP_TTS_CHAT_API || \"http://192.168.168.77:6010/say\"}\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n            用于 TTS 语音合成面板发送文本进行语音合成的 API 端点。\r\n          </div>\r\n        </div>\r\n\r\n        {/* TTS 语音合成 音色克隆上传 API 地址 */}\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>TTS语音合成 音色克隆上传 API 地址:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.ttsUploadApiUrl}\r\n            onChange={(e) => handleUrlChange('ttsUploadApiUrl', e.target.value)}\r\n            placeholder={process.env.REACT_APP_TTS_UPLOAD_API || \"http://192.168.168.77:6008/api/uploadSpeaker\"}\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n            用于 TTS语音合成 面板上传参考音频以克隆音色的 API 端点。\r\n          </div>\r\n        </div>\r\n\r\n        {/* --- TTSPanel.jsx 配置项结束 --- */}\r\n\r\n        {/* 新增 ASR语音识别AudioTranscriber 相关配置项 */}\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>ASR语音识别 LLM URL:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.audioTranscriberQwenerUrl || ''}\r\n            onChange={(e) => handleUrlChange('audioTranscriberQwenerUrl', e.target.value)}\r\n            placeholder=\"https://192.168.168.77:9010/qwener\"\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n          ASR语音识别 组件用来发送文本消息的 LLM API 端点。\r\n          </div>\r\n        </div>\r\n\r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>ASR语音识别 上传声纹 API URL:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.audioTranscriberUploadSpeakerUrl || ''}\r\n            onChange={(e) => handleUrlChange('audioTranscriberUploadSpeakerUrl', e.target.value)}\r\n            placeholder=\"http://192.168.168.77:6007/api/uploadSpeaker\"\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n            ASR语音识别 组件上传声纹音频的服务器端点地址。\r\n          </div>\r\n        </div>\r\n\r\n        {/* Settings.jsx 背景文件上传地址 (如果需要独立配置) */}\r\n        {/* \r\n        <div style={styles.formGroup}>\r\n          <label style={styles.label}>背景文件上传地址:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={urls.uploadBgFileUrl || urls.uploadFileUrl} // Fallback to uploadFileUrl if not set\r\n            onChange={(e) => handleUrlChange('uploadBgFileUrl', e.target.value)}\r\n            placeholder={urls.uploadFileUrl || \"http://192.168.168.77:6010/api/upload_print_file\"}\r\n            style={styles.input}\r\n          />\r\n          <div style={styles.helperText}>\r\n            用于设置页面上传背景图片/视频的服务器端点。(如果未单独配置，则使用 WebRTC 文件上传基础地址)\r\n          </div>\r\n        </div>\r\n        */}\r\n\r\n        <button\r\n          type=\"submit\"\r\n          style={styles.button}\r\n          onMouseEnter={(e) => e.target.style.backgroundColor = styles.buttonHover.backgroundColor}\r\n          onMouseLeave={(e) => e.target.style.backgroundColor = styles.button.backgroundColor}\r\n        >\r\n          保存配置\r\n        </button>\r\n      </form>\r\n\r\n      <div style={statusStyle}>\r\n        {status.message}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ServerUrlConfig;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}