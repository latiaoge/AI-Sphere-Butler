{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{useButler}from'./ButlersContext';import{useRecorderContext}from'../contexts/RecorderProvider';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const activateSoundSrc='/core/client/ai-butler/sounds/activate.mp3';const BACKEND_URL=process.env.REACT_APP_BACKEND_URL||'http://localhost:6010';export default function ButlerShowcase(){const{activeButlerId,butlers}=useButler();const{activateButler}=useRecorderContext();const videoRefs=useRef({});const activateAudioRef=useRef(null);const[hoveredId,setHoveredId]=useState(null);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);// 全局状态更新时刷新视频（修复then调用错误）\nuseEffect(()=>{console.log('[ButlerShowcase] 全局activeButlerId更新为:',activeButlerId);const activeVideo=videoRefs.current[activeButlerId];if(activeVideo){// 修复：video.load()不返回Promise，移除then调用\nactiveVideo.load();// 同步加载视频\n// 直接调用播放，处理可能的错误\nactiveVideo.play().catch(e=>console.warn(\"\\u64AD\\u653E\\u89C6\\u9891 \".concat(activeButlerId,\" \\u5931\\u8D25\"),e));}},[activeButlerId]);// 初始化视频状态\nuseEffect(()=>{butlers.forEach(_ref=>{let{id,src}=_ref;const video=videoRefs.current[id];if(!video)return;const isActive=id===activeButlerId;if(isActive){video.style.filter='none';video.muted=false;if(video.src!==\"\".concat(window.location.origin).concat(src)){video.src=src;}}else{video.pause();video.currentTime=0;video.style.filter='grayscale(100%) brightness(65%)';}});},[activeButlerId,butlers]);// 双击切换管家处理\nasync function handleDoubleClick(id){if(id===activeButlerId){console.log('[ButlerShowcase] 已激活该管家，无需切换');return;}if(loading)return;setLoading(true);setError(null);console.log('[ButlerShowcase] 尝试切换到管家:',id);try{// 检查activateButler是否为函数\nif(typeof activateButler!=='function'){throw new Error('activateButler未定义，请检查RecorderProvider');}await activateButler(id);// 播放切换音效\nconst audio=activateAudioRef.current;if(audio){audio.currentTime=0;audio.play().catch(()=>{});}}catch(err){console.error('[ButlerShowcase] 切换失败:',err);setError(err.message||'切换失败，请重试');}finally{setLoading(false);}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"audio\",{ref:activateAudioRef,src:activateSoundSrc,preload:\"auto\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'red',textAlign:'center',padding:10,backgroundColor:'rgba(255,0,0,0.1)',borderRadius:4,marginBottom:20,maxWidth:600,marginLeft:'auto',marginRight:'auto'},children:error}),/*#__PURE__*/_jsx(\"div\",{className:\"steward-gallery\",style:{fontFamily:'Arial, sans-serif',backgroundColor:'transparent',padding:40,minHeight:'100vh',userSelect:'none'},children:/*#__PURE__*/_jsxs(\"div\",{className:\"display-case\",style:{position:'relative',maxWidth:1000,margin:'0 auto',borderRadius:8,overflow:'visible',backgroundColor:'transparent',boxShadow:'none'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"case-top\",style:{height:20,backgroundColor:'transparent',boxShadow:'none'}}),/*#__PURE__*/_jsx(\"div\",{className:\"case-bottom\",style:{height:20,backgroundColor:'transparent',boxShadow:'none'}}),/*#__PURE__*/_jsx(\"div\",{className:\"stewards-container\",style:{display:'flex',justifyContent:'center',backgroundColor:'transparent',padding:'30px 0',gap:0},children:butlers.map((_ref2,index)=>{let{id,name,type,src}=_ref2;const isActive=id===activeButlerId;const isHovered=id===hoveredId;return/*#__PURE__*/_jsxs(\"div\",{className:\"steward \".concat(isActive?'active':'',\" \").concat(isHovered?'hovered':''),onMouseEnter:()=>setHoveredId(id),onMouseLeave:()=>setHoveredId(null),onDoubleClick:()=>handleDoubleClick(id),style:{position:'relative',width:240,height:480,display:'flex',flexDirection:'column',alignItems:'center',cursor:'pointer',transition:'transform 0.3s ease',transform:isHovered?'translateY(-10px)':'translateY(0)',userSelect:'none',marginRight:index!==butlers.length-1?0:0,zIndex:1,opacity:loading&&id!==activeButlerId?0.7:1,pointerEvents:loading&&id!==activeButlerId?'none':'auto'},title:isActive?\"\\u5F53\\u524D\\u6FC0\\u6D3B\\u7BA1\\u5BB6\\uFF1A\".concat(name):\"\\u53CC\\u51FB\\u5207\\u6362\\u5230\\u7BA1\\u5BB6 \".concat(name),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"glass-panel\",style:{width:180,height:340,borderRadius:28,position:'relative',padding:2,background:'linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.03) 100%)',boxShadow:isActive?'0 8px 50px rgba(0, 229, 255, 0.6), inset 0 0 80px rgba(255, 255, 255, 0.2)':'0 8px 50px rgba(0, 229, 255, 0.4), inset 0 0 80px rgba(255, 255, 255, 0.15)',backdropFilter:'blur(20px)',WebkitBackdropFilter:'blur(20px)',border:'3px solid rgba(255, 255, 255, 0.45)',overflow:'hidden',userSelect:'none',filter:isActive?'drop-shadow(0 0 35px rgba(0,229,255,1))':'grayscale(100%) brightness(70%)',transition:'all 0.3s ease',zIndex:1},children:[/*#__PURE__*/_jsx(\"div\",{style:{position:'absolute',inset:0,pointerEvents:'none',borderRadius:28,backgroundImage:'radial-gradient(rgba(255,255,255,0.15) 1.5px, transparent 1.5px)',backgroundSize:'7px 7px',mixBlendMode:'overlay',zIndex:5,opacity:0.22}}),/*#__PURE__*/_jsx(\"div\",{className:\"glossy-edge\",style:{position:'absolute',top:-40,left:-40,width:260,height:420,borderRadius:40,pointerEvents:'none',background:'radial-gradient(circle at 15% 30%, rgba(255,255,255,0.5), transparent 65%),'+'radial-gradient(circle at 85% 70%, rgba(255,255,255,0.35), transparent 70%)',filter:'blur(18px)',opacity:0.7,animation:'glossyFlow 5.5s linear infinite',zIndex:6}}),type==='image'?/*#__PURE__*/_jsx(\"img\",{src:src,alt:name,draggable:false,style:{width:'100%',height:'100%',objectFit:'cover',borderRadius:20,position:'relative',zIndex:10,boxShadow:isActive?'0 0 24px rgba(0, 229, 255, 1)':'none',transition:'box-shadow 0.3s ease',userSelect:'none'}}):/*#__PURE__*/_jsx(\"video\",{ref:el=>videoRefs.current[id]=el,src:src,autoPlay:false,loop:true,muted:true,playsInline:true,preload:\"auto\",style:{width:'100%',height:'100%',objectFit:'cover',borderRadius:20,position:'relative',zIndex:10,userSelect:'none',pointerEvents:'none',filter:isActive?'none':'grayscale(100%) brightness(70%)',transition:'filter 0.3s ease',boxShadow:isActive?'0 0 24px rgba(0, 229, 255, 1)':'none'}})]}),/*#__PURE__*/_jsx(\"div\",{style:{width:120,height:6,borderRadius:3,backgroundColor:isActive||isHovered?'#00e5ff':'#666',boxShadow:isActive||isHovered?'0 0 12px #00e5ff':'none',marginBottom:6,transition:'background-color 0.3s, box-shadow 0.3s',zIndex:1}}),/*#__PURE__*/_jsx(\"div\",{className:\"indicator-light\",style:{width:20,height:20,borderRadius:'50%',backgroundColor:isActive||isHovered?'#00e5ff':'#555',boxShadow:isActive||isHovered?'0 0 20px #00e5ff':'none',marginTop:6,transition:'background-color 0.3s, box-shadow 0.3s',zIndex:1}}),/*#__PURE__*/_jsx(\"div\",{style:{color:isActive?'#0ff':'#ccc',fontWeight:'bold',textAlign:'center',userSelect:'none',textShadow:isActive?'0 0 8px #0ff':'none',whiteSpace:'nowrap',fontSize:18,marginTop:12,zIndex:1},children:name})]},id);})})]})}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n        @keyframes glossyFlow {\\n          0% {\\n            background-position: 0% 0%, 100% 100%;\\n          }\\n          100% {\\n            background-position: 100% 100%, 0% 0%;\\n          }\\n        }\\n      \"})]});}","map":{"version":3,"names":["React","useState","useRef","useEffect","useButler","useRecorderContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","activateSoundSrc","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","ButlerShowcase","activeButlerId","butlers","activateButler","videoRefs","activateAudioRef","hoveredId","setHoveredId","loading","setLoading","error","setError","console","log","activeVideo","current","load","play","catch","e","warn","concat","forEach","_ref","id","src","video","isActive","style","filter","muted","window","location","origin","pause","currentTime","handleDoubleClick","Error","audio","err","message","children","ref","preload","color","textAlign","padding","backgroundColor","borderRadius","marginBottom","maxWidth","marginLeft","marginRight","className","fontFamily","minHeight","userSelect","position","margin","overflow","boxShadow","height","display","justifyContent","gap","map","_ref2","index","name","type","isHovered","onMouseEnter","onMouseLeave","onDoubleClick","width","flexDirection","alignItems","cursor","transition","transform","length","zIndex","opacity","pointerEvents","title","background","backdropFilter","WebkitBackdropFilter","border","inset","backgroundImage","backgroundSize","mixBlendMode","top","left","animation","alt","draggable","objectFit","el","autoPlay","loop","playsInline","marginTop","fontWeight","textShadow","whiteSpace","fontSize"],"sources":["D:/XM/AI-Sphere-Butler/core/client/src/components/ButlerShowcase.jsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { useButler } from './ButlersContext';\r\nimport { useRecorderContext } from '../contexts/RecorderProvider';\r\n\r\nconst activateSoundSrc = '/core/client/ai-butler/sounds/activate.mp3';\r\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || 'http://localhost:6010';\r\n\r\nexport default function ButlerShowcase() {\r\n  const { activeButlerId, butlers } = useButler();\r\n  const { activateButler } = useRecorderContext();\r\n  const videoRefs = useRef({});\r\n  const activateAudioRef = useRef(null);\r\n  const [hoveredId, setHoveredId] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // 全局状态更新时刷新视频（修复then调用错误）\r\n  useEffect(() => {\r\n    console.log('[ButlerShowcase] 全局activeButlerId更新为:', activeButlerId);\r\n    const activeVideo = videoRefs.current[activeButlerId];\r\n    \r\n    if (activeVideo) {\r\n      // 修复：video.load()不返回Promise，移除then调用\r\n      activeVideo.load(); // 同步加载视频\r\n      // 直接调用播放，处理可能的错误\r\n      activeVideo.play().catch(e => \r\n        console.warn(`播放视频 ${activeButlerId} 失败`, e)\r\n      );\r\n    }\r\n  }, [activeButlerId]);\r\n\r\n  // 初始化视频状态\r\n  useEffect(() => {\r\n    butlers.forEach(({ id, src }) => {\r\n      const video = videoRefs.current[id];\r\n      if (!video) return;\r\n      const isActive = id === activeButlerId;\r\n      \r\n      if (isActive) {\r\n        video.style.filter = 'none';\r\n        video.muted = false;\r\n        if (video.src !== `${window.location.origin}${src}`) {\r\n          video.src = src;\r\n        }\r\n      } else {\r\n        video.pause();\r\n        video.currentTime = 0;\r\n        video.style.filter = 'grayscale(100%) brightness(65%)';\r\n      }\r\n    });\r\n  }, [activeButlerId, butlers]);\r\n\r\n  // 双击切换管家处理\r\n  async function handleDoubleClick(id) {\r\n    if (id === activeButlerId) {\r\n      console.log('[ButlerShowcase] 已激活该管家，无需切换');\r\n      return;\r\n    }\r\n    if (loading) return;\r\n\r\n    setLoading(true);\r\n    setError(null);\r\n    console.log('[ButlerShowcase] 尝试切换到管家:', id);\r\n\r\n    try {\r\n      // 检查activateButler是否为函数\r\n      if (typeof activateButler !== 'function') {\r\n        throw new Error('activateButler未定义，请检查RecorderProvider');\r\n      }\r\n      await activateButler(id);\r\n      \r\n      // 播放切换音效\r\n      const audio = activateAudioRef.current;\r\n      if (audio) {\r\n        audio.currentTime = 0;\r\n        audio.play().catch(() => {});\r\n      }\r\n    } catch (err) {\r\n      console.error('[ButlerShowcase] 切换失败:', err);\r\n      setError(err.message || '切换失败，请重试');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <audio ref={activateAudioRef} src={activateSoundSrc} preload=\"auto\" />\r\n      \r\n      {/* 错误提示 */}\r\n      {error && (\r\n        <div style={{\r\n          color: 'red',\r\n          textAlign: 'center',\r\n          padding: 10,\r\n          backgroundColor: 'rgba(255,0,0,0.1)',\r\n          borderRadius: 4,\r\n          marginBottom: 20,\r\n          maxWidth: 600,\r\n          marginLeft: 'auto',\r\n          marginRight: 'auto',\r\n        }}>\r\n          {error}\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        className=\"steward-gallery\"\r\n        style={{\r\n          fontFamily: 'Arial, sans-serif',\r\n          backgroundColor: 'transparent',\r\n          padding: 40,\r\n          minHeight: '100vh',\r\n          userSelect: 'none',\r\n        }}\r\n      >\r\n        <div\r\n          className=\"display-case\"\r\n          style={{\r\n            position: 'relative',\r\n            maxWidth: 1000,\r\n            margin: '0 auto',\r\n            borderRadius: 8,\r\n            overflow: 'visible',\r\n            backgroundColor: 'transparent',\r\n            boxShadow: 'none',\r\n          }}\r\n        >\r\n          <div\r\n            className=\"case-top\"\r\n            style={{ height: 20, backgroundColor: 'transparent', boxShadow: 'none' }}\r\n          />\r\n          <div\r\n            className=\"case-bottom\"\r\n            style={{ height: 20, backgroundColor: 'transparent', boxShadow: 'none' }}\r\n          />\r\n\r\n          <div\r\n            className=\"stewards-container\"\r\n            style={{\r\n              display: 'flex',\r\n              justifyContent: 'center',\r\n              backgroundColor: 'transparent',\r\n              padding: '30px 0',\r\n              gap: 0,\r\n            }}\r\n          >\r\n            {butlers.map(({ id, name, type, src }, index) => {\r\n              const isActive = id === activeButlerId;\r\n              const isHovered = id === hoveredId;\r\n\r\n              return (\r\n                <div\r\n                  key={id}\r\n                  className={`steward ${isActive ? 'active' : ''} ${isHovered ? 'hovered' : ''}`}\r\n                  onMouseEnter={() => setHoveredId(id)}\r\n                  onMouseLeave={() => setHoveredId(null)}\r\n                  onDoubleClick={() => handleDoubleClick(id)}\r\n                  style={{\r\n                    position: 'relative',\r\n                    width: 240,\r\n                    height: 480,\r\n                    display: 'flex',\r\n                    flexDirection: 'column',\r\n                    alignItems: 'center',\r\n                    cursor: 'pointer',\r\n                    transition: 'transform 0.3s ease',\r\n                    transform: isHovered ? 'translateY(-10px)' : 'translateY(0)',\r\n                    userSelect: 'none',\r\n                    marginRight: index !== butlers.length - 1 ? 0 : 0,\r\n                    zIndex: 1,\r\n                    opacity: loading && id !== activeButlerId ? 0.7 : 1,\r\n                    pointerEvents: loading && id !== activeButlerId ? 'none' : 'auto',\r\n                  }}\r\n                  title={isActive ? `当前激活管家：${name}` : `双击切换到管家 ${name}`}\r\n                >\r\n                  <div\r\n                    className=\"glass-panel\"\r\n                    style={{\r\n                      width: 180,\r\n                      height: 340,\r\n                      borderRadius: 28,\r\n                      position: 'relative',\r\n                      padding: 2,\r\n                      background:\r\n                        'linear-gradient(135deg, rgba(255,255,255,0.15) 0%, rgba(255,255,255,0.03) 100%)',\r\n                      boxShadow: isActive \r\n                        ? '0 8px 50px rgba(0, 229, 255, 0.6), inset 0 0 80px rgba(255, 255, 255, 0.2)'\r\n                        : '0 8px 50px rgba(0, 229, 255, 0.4), inset 0 0 80px rgba(255, 255, 255, 0.15)',\r\n                      backdropFilter: 'blur(20px)',\r\n                      WebkitBackdropFilter: 'blur(20px)',\r\n                      border: '3px solid rgba(255, 255, 255, 0.45)',\r\n                      overflow: 'hidden',\r\n                      userSelect: 'none',\r\n                      filter: isActive\r\n                        ? 'drop-shadow(0 0 35px rgba(0,229,255,1))'\r\n                        : 'grayscale(100%) brightness(70%)',\r\n                      transition: 'all 0.3s ease',\r\n                      zIndex: 1,\r\n                    }}\r\n                  >\r\n                    <div\r\n                      style={{\r\n                        position: 'absolute',\r\n                        inset: 0,\r\n                        pointerEvents: 'none',\r\n                        borderRadius: 28,\r\n                        backgroundImage:\r\n                          'radial-gradient(rgba(255,255,255,0.15) 1.5px, transparent 1.5px)',\r\n                        backgroundSize: '7px 7px',\r\n                        mixBlendMode: 'overlay',\r\n                        zIndex: 5,\r\n                        opacity: 0.22,\r\n                      }}\r\n                    />\r\n                    <div\r\n                      className=\"glossy-edge\"\r\n                      style={{\r\n                        position: 'absolute',\r\n                        top: -40,\r\n                        left: -40,\r\n                        width: 260,\r\n                        height: 420,\r\n                        borderRadius: 40,\r\n                        pointerEvents: 'none',\r\n                        background:\r\n                          'radial-gradient(circle at 15% 30%, rgba(255,255,255,0.5), transparent 65%),' +\r\n                          'radial-gradient(circle at 85% 70%, rgba(255,255,255,0.35), transparent 70%)',\r\n                        filter: 'blur(18px)',\r\n                        opacity: 0.7,\r\n                        animation: 'glossyFlow 5.5s linear infinite',\r\n                        zIndex: 6,\r\n                      }}\r\n                    />\r\n\r\n                    {type === 'image' ? (\r\n                      <img\r\n                        src={src}\r\n                        alt={name}\r\n                        draggable={false}\r\n                        style={{\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          objectFit: 'cover',\r\n                          borderRadius: 20,\r\n                          position: 'relative',\r\n                          zIndex: 10,\r\n                          boxShadow: isActive\r\n                            ? '0 0 24px rgba(0, 229, 255, 1)'\r\n                            : 'none',\r\n                          transition: 'box-shadow 0.3s ease',\r\n                          userSelect: 'none',\r\n                        }}\r\n                      />\r\n                    ) : (\r\n                      <video\r\n                        ref={(el) => (videoRefs.current[id] = el)}\r\n                        src={src}\r\n                        autoPlay={false}\r\n                        loop\r\n                        muted\r\n                        playsInline\r\n                        preload=\"auto\"\r\n                        style={{\r\n                          width: '100%',\r\n                          height: '100%',\r\n                          objectFit: 'cover',\r\n                          borderRadius: 20,\r\n                          position: 'relative',\r\n                          zIndex: 10,\r\n                          userSelect: 'none',\r\n                          pointerEvents: 'none',\r\n                          filter: isActive\r\n                            ? 'none'\r\n                            : 'grayscale(100%) brightness(70%)',\r\n                          transition: 'filter 0.3s ease',\r\n                          boxShadow: isActive\r\n                            ? '0 0 24px rgba(0, 229, 255, 1)'\r\n                            : 'none',\r\n                        }}\r\n                      />\r\n                    )}\r\n                  </div>\r\n\r\n                  <div\r\n                    style={{\r\n                      width: 120,\r\n                      height: 6,\r\n                      borderRadius: 3,\r\n                      backgroundColor:\r\n                        isActive || isHovered ? '#00e5ff' : '#666',\r\n                      boxShadow:\r\n                        isActive || isHovered\r\n                          ? '0 0 12px #00e5ff'\r\n                          : 'none',\r\n                      marginBottom: 6,\r\n                      transition: 'background-color 0.3s, box-shadow 0.3s',\r\n                      zIndex: 1,\r\n                    }}\r\n                  />\r\n\r\n                  <div\r\n                    className=\"indicator-light\"\r\n                    style={{\r\n                      width: 20,\r\n                      height: 20,\r\n                      borderRadius: '50%',\r\n                      backgroundColor:\r\n                        isActive || isHovered ? '#00e5ff' : '#555',\r\n                      boxShadow:\r\n                        isActive || isHovered\r\n                          ? '0 0 20px #00e5ff'\r\n                          : 'none',\r\n                      marginTop: 6,\r\n                      transition: 'background-color 0.3s, box-shadow 0.3s',\r\n                      zIndex: 1,\r\n                    }}\r\n                  />\r\n\r\n                  <div\r\n                    style={{\r\n                      color: isActive ? '#0ff' : '#ccc',\r\n                      fontWeight: 'bold',\r\n                      textAlign: 'center',\r\n                      userSelect: 'none',\r\n                      textShadow: isActive ? '0 0 8px #0ff' : 'none',\r\n                      whiteSpace: 'nowrap',\r\n                      fontSize: 18,\r\n                      marginTop: 12,\r\n                      zIndex: 1,\r\n                    }}\r\n                  >\r\n                    {name}\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <style>{`\r\n        @keyframes glossyFlow {\r\n          0% {\r\n            background-position: 0% 0%, 100% 100%;\r\n          }\r\n          100% {\r\n            background-position: 100% 100%, 0% 0%;\r\n          }\r\n        }\r\n      `}</style>\r\n    </>\r\n  );\r\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}